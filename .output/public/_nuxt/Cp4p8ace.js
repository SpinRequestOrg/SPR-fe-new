import{_ as se}from"./C_uAVEpq.js";import{_ as K,b as ne}from"./BdYqXfoo.js";import{_ as oe}from"./Bmu_YX42.js";import{_ as ae}from"./BWVCzZSe.js";import{_ as B}from"./CBGcTsFW.js";import{_ as ie}from"./BQurgAr7.js";import{h as N,i as X,o as l,c,a as e,b as i,B as b,m as t,C as S,n as f,t as a,Z as le,ae as de,j as ee,q as g,F as re,E as ue,k as ce,w as _,_ as E,d as F,at as me}from"./ZzYuc5FK.js";import{D as Z}from"./DCehfQOJ.js";import{_ as _e}from"./Bhj8JrWQ.js";import{u as pe}from"./B8K1_lBj.js";import{u as fe}from"./JJAh6i0j.js";import"./l26r7jI4.js";const ge={class:"flex gap-1 items-center"},ve={class:"space-y-1"},ye={key:1,class:"flex items-center gap-2 text-base"},xe={class:"text-foreground font-medium"},he={class:"text-muted-foreground"},be={class:"flex items-center text-muted-foreground"},qe={class:"flex items-center gap-1 text-primary-foreground"},$e={class:"text-primary-foreground font-medium"},ke={class:"text-muted-foreground text-sm"},we={key:0,class:"text-primary text-sm"},Ee={key:1,class:"text-muted-foreground text-sm"},Fe=N({__name:"request-item",props:{type:{default:"song"},request:{}},setup(z){const{authEmail:p}=X(),o=de("size-16 scale-75  shrink-0 rounded-full grid place-items-center",{variants:{type:{song:"bg-[#FFEE99]/10",hype:"bg-[#FF99F1]/10"}},defaultVariants:{type:"song"}});return(s,u)=>{const d=B,r=K;return l(),c("div",ge,[e("div",{class:b(t(o)({type:s.type}))},[i(d,{name:s.type=="song"?"music":"mic",class:b(("cn"in s?s.cn:t(S))(s.request.status==="now-playing"?"animate-bounce":""))},null,8,["name","class"])],2),e("div",ve,[s.request.type==="hype"?(l(),f(r,{key:0,content:s.request.description,class:"font-medium"},null,8,["content"])):(l(),c("div",ye,[e("div",xe,a(s.request.song_title),1),e("div",he,"by "+a(s.request.artist),1)])),e("div",be,[e("div",qe,[i(d,{name:"money"}),e("div",$e," â‚¦"+a(("formatMoney"in s?s.formatMoney:t(le))(s.request.price)),1)]),i(t(Z)),e("div",ke,a(s.request.type=="hype"?"HYPE":"SONG"),1),i(t(Z)),t(p)===s.request.audience.email?(l(),c("div",we," Your "+a(s.request.type)+" request ",1)):(l(),c("div",Ee," From "+a(s.request.nickname??s.request.audience.name),1))])])])}}}),Se={class:"w-full rounded-xl relative"},ze={class:"py-4 px-6 bg-[#1C1B1F] rounded-t-[inherit]"},Be={class:"flex items-center gap-4 text-muted-foreground text-sm -ml-1"},Ne={class:"flex items-center gap-px"},Re={class:"flex items-center gap-px"},Ie={class:"relative px-6 py-8 bg-white/5 rounded-b-[inherit]"},Ce={class:"space-y-1 grid justify-center text-center mb-8 relative z-[3]"},Le={key:1,class:"text-sm text-muted-foreground"},Me={key:0,class:"p-1 absolute -translate-y-4 left-0 right-0 text-center text-background font-medium text-sm bg-gradient-to-r from-[#844AFF] from-[1.28%] via-[#E991DD] via-[58.26%] to-[#FCF0AF] to-[100%]"},Ae={key:1,class:"space-y-6"},De={key:2,class:"p-3 text-center grid place-items-center"},Ve=N({__name:"request-queue.card",props:{event:{}},setup(z){const p=z,{authEmail:o}=X(),s=ee(()=>p.event.requests.find(u=>u.status==="now-playing"));return(u,d)=>{var $,k,w,m;const r=B,n=ie,q=Fe;return l(),c("div",Se,[e("div",ze,[d[0]||(d[0]=e("div",{class:"font-display font-semibold text-2xl mb-2"},"Request Queue",-1)),e("div",Be,[e("div",Ne,[i(r,{name:"celebration",class:"relative scale-75"}),e("div",null,a(u.event.title),1)]),e("div",Re,[i(r,{name:"location",class:"relative scale-75"}),e("div",null,a(u.event.address),1)])])]),e("div",Ie,[d[1]||(d[1]=e("div",{class:"bg-sp-purple/50 blur-[200px] size-56 absolute left-1/2 -translate-x-1/2"},null,-1)),e("div",Ce,[i(n,{src:"/images/disco.png",class:b(("cn"in u?u.cn:t(S))("size-[120px] mx-auto",t(s)&&"animate-spin"))},null,8,["class"]),t(s)?(l(),f(K,{key:0,class:"font-semibold text-base",content:(($=t(s))==null?void 0:$.type)==="hype"?(k=t(s))==null?void 0:k.description:((w=t(s))==null?void 0:w.song_title)??""},null,8,["content"])):g("",!0),t(s)?(l(),c("div",Le," Now "+a(t(s).type==="song"?"playing":"performing hype")+"... ",1)):g("",!0)]),t(s)&&t(o)===t(s).audience.email?(l(),c("div",Me,a(t(s).type==="hype"?"Performing":"Playing")+" your "+a((m=t(s))==null?void 0:m.type)+" request ",1)):g("",!0),e("div",{class:b(("cn"in u?u.cn:t(S))("text-muted-foreground mb-4",t(s)&&t(o)===t(s).audience.email&&"mt-16"))}," PREVIOUS REQUESTS ",2),u.event.requests.length?(l(),c("div",Ae,[(l(!0),c(re,null,ue(u.event.requests,v=>(l(),f(q,{key:v.id,request:v,type:v.type},null,8,["request","type"]))),128))])):(l(),c("div",De," No requests yet, hang tight "))])])}}}),Oe={class:"container pt-6 pb-20"},Te={key:0,class:"grid grid-cols-1 md:grid-cols-[1fr_400px] justify-between gap-6 mt-10"},Ue={class:"grid lg:grid-cols-[auto_1fr] items-start gap-4"},Pe={class:"py-2"},Qe={class:"font-display text-3xl md:text-4xl font-semibold"},je={class:"flex flex-wrap gap-4 items-center my-4 mb-6"},Ye={class:"flex items-center gap-2"},Ge={class:"flex items-center gap-1"},He={class:"font-semibold"},Je={class:"flex items-center gap-2"},We={class:"flex items-center gap-1"},Ze={class:"font-semibold"},Ke={class:"flex items-center gap-2"},Xe={class:"flex items-center gap-1"},et={class:"font-semibold"},tt={class:"flex items-center gap-2"},st={class:"flex items-center gap-1"},nt={class:"font-semibold"},ot={class:"flex flex-col md:flex-row items-center gap-4"},at={class:"mt-10 space-y-2 text-muted-foreground hidden md:block"},it={class:"max-w-[550px]"},lt={class:"inline-flex bg-white/10 items-center rounded-xl py-4 px-6 gap-4"},dt={class:"text-lg font-semibold text-foreground"},rt={class:"mt-4 space-y-4 text-muted-foreground md:hidden"},ut={class:"max-w-[550px]"},ct={class:"inline-flex bg-white/10 items-center rounded-xl py-4 px-6 gap-4"},mt={class:"text-lg font-semibold text-foreground"},wt=N({__name:"index",setup(z){const p=ce(),{data:o,error:s,status:u}=pe(`/user/host/${p.params.host}`),d=ee(()=>{var r,n;return(n=(r=o==null?void 0:o.value)==null?void 0:r.data)==null?void 0:n.user});return fe({title:()=>{var r;return`${(r=d.value)==null?void 0:r.stage_name}`}}),(r,n)=>{var R,I,C,L,M;const q=se,$=ne,k=oe,w=ae,m=B,v=Ve,te=_e;return l(),c("div",Oe,[(R=t(o))!=null&&R.data.live_event?(l(),f($,{key:0,class:"-translate-y-6",user:"audience","start-date":(L=(C=(I=t(o))==null?void 0:I.data)==null?void 0:C.live_event)==null?void 0:L.start_date,animate:""},{default:_(()=>{var y,x,h;return[i(q,{to:`/${t(p).params.host}/${(h=(x=(y=t(o))==null?void 0:y.data)==null?void 0:x.live_event)==null?void 0:h.id}/make-a-request`},{default:_(()=>[i(E,null,{default:_(()=>n[0]||(n[0]=[F(" Make a request ")])),_:1})]),_:1},8,["to"])]}),_:1},8,["start-date"])):g("",!0),i(k,{to:"/search",class:b(("cn"in r?r.cn:t(S))((M=t(o))!=null&&M.data.live_event?"mt-10":""))},null,8,["class"]),i(te,{loading:t(u)==="pending",error:t(s)},{default:_(()=>{var y,x,h,A,D,V,O,T,U,P,Q,j,Y,G,H,J,W;return[t(d)?(l(),c("div",Te,[e("div",null,[e("div",Ue,[i(w,{class:"!size-[120px] md:!size-[180px] xl:!size-[200px] !rounded-3xl !text-4xl",initials:("getInitials"in r?r.getInitials:t(me))((y=t(d))==null?void 0:y.stage_name),image:t(d).profile_picture},null,8,["initials","image"]),e("div",Pe,[e("div",Qe,a(t(d).stage_name),1),e("div",je,[e("div",Ye,[i(m,{name:"account_circle"}),e("div",Ge,[e("span",He,a((A=(h=(x=t(o))==null?void 0:x.data)==null?void 0:h.total_followers)==null?void 0:A.length),1),n[1]||(n[1]=e("span",{class:"text-muted-foreground"},"FOLLOWERS",-1))])]),e("div",Je,[i(m,{name:"celebration"}),e("div",We,[e("span",Ze,a((D=t(o))==null?void 0:D.data.total_events),1),n[2]||(n[2]=e("span",{class:"text-muted-foreground"},"EVENTS",-1))])]),e("div",Ke,[i(m,{name:"genres"}),e("div",Xe,[e("span",et,a((V=t(o))==null?void 0:V.data.total_requests),1),n[3]||(n[3]=e("span",{class:"text-muted-foreground"},"REQUESTS",-1))])]),e("div",tt,[i(m,{name:"genres"}),e("div",st,[e("span",nt,a((O=t(o))==null?void 0:O.data.total_fulfilled_requests),1),n[4]||(n[4]=e("span",{class:"text-muted-foreground"},"FUFILLED",-1))])])]),e("div",ot,[i(E,{variant:"secondary",class:"w-full md:w-auto",size:"lg"},{default:_(()=>n[5]||(n[5]=[F(" Follow ")])),_:1}),(T=t(o))!=null&&T.data.live_event?(l(),f(q,{key:0,to:`/${t(p).params.host}/${(Q=(P=(U=t(o))==null?void 0:U.data)==null?void 0:P.live_event)==null?void 0:Q.id}/make-a-request`,class:"w-full md:w-auto"},{default:_(()=>[i(E,{size:"lg",class:"w-full"},{default:_(()=>n[6]||(n[6]=[F(" Make a request ")])),_:1})]),_:1},8,["to"])):(l(),f(E,{key:1,class:"w-full md:w-auto",size:"lg"},{default:_(()=>n[7]||(n[7]=[F(" Notify me when DJ goes live ")])),_:1}))])])]),e("div",at,[n[9]||(n[9]=e("div",null,"ABOUT ME",-1)),e("div",it,a(t(d).bio),1),e("div",lt,[i(m,{name:"badge"}),e("div",null,[e("div",dt,a((j=t(o))==null?void 0:j.data.total_fulfilled_requests)+" of "+a((Y=t(o))==null?void 0:Y.data.total_requests),1),n[8]||(n[8]=e("div",{class:"text-muted-foreground"},"Request fufilled",-1))])])])]),(G=t(o))!=null&&G.data.live_event?(l(),f(v,{key:0,event:(H=t(o))==null?void 0:H.data.live_event},null,8,["event"])):g("",!0),e("div",rt,[n[11]||(n[11]=e("div",null,"ABOUT ME",-1)),e("div",ut,a(t(d).bio),1),e("div",ct,[i(m,{name:"badge"}),e("div",null,[e("div",mt,a((J=t(o))==null?void 0:J.data.total_fulfilled_requests)+" of "+a((W=t(o))==null?void 0:W.data.total_requests),1),n[10]||(n[10]=e("div",{class:"text-muted-foreground"},"Request fufilled",-1))])])])])):g("",!0)]}),_:1},8,["loading","error"])])}}});export{wt as default};
