import{_ as B}from"./Ccavnmjg.js";import{y as x,H as R,I as F,r as L,o as i,C as p,w as l,b as a,J as S,B as s,c as g,t as y,D as C,K as P,F as T,L as $,M as z,N as A,O as H,V as M,P as D,Q as G,R as V,d as N,S as U,W as j,T as q,u as J,z as W,a as m,_ as K,x as I,E as Q,G as Y}from"./D5arO9F3.js";import{_ as X}from"./CqOvMmf1.js";import{a as Z,_ as k,F as ee}from"./a5Z8Toz9.js";import{c as te}from"./B_TM8TBb.js";import{H as ae}from"./h_O2H-HD.js";import{L as oe}from"./BnxuoDm3.js";import"./BqjAheMm.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=te("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ne=x({__name:"select-field",props:R({options:{default:()=>[]},label:{default:""},placeholder:{},name:{},disabled:{type:Boolean,default:!1},state:{default:"normal"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const n=F(f,"modelValue"),t=L(n.value);return(e,r)=>{const d=z,u=A,_=U,h=j,b=q,o=H,v=M,E=D,w=G;return i(),p(w,{modelValue:s(t),"onUpdate:modelValue":[r[0]||(r[0]=c=>$(t)?t.value=c:null),r[1]||(r[1]=c=>n.value=c)],disabled:e.disabled,name:e.name},{default:l(()=>[a(u,{class:S(("cn"in e?e.cn:s(V))("inline-flex relative border [&[data-state='open']_.trigger-icon]:rotate-180 w-full rounded-lg min-w-[160px] items-center justify-between px-3 text-[14px] leading-none h-[58px] gap-[5px] bg-white/5 shadow-[0_2px_10px] shadow-black/10 focus:shadow-[0_0_0_2px] focus:shadow-primary outline-none",e.state==="error"?"border-destructive":"border-border"))},{default:l(()=>[a(d,{placeholder:e.placeholder,class:S(("cn"in e?e.cn:s(V))(s(t)&&!!e.label&&"mt-4",s(t)?"text-foreground ":"text-muted-foreground","text-base"))},null,8,["placeholder","class"]),a(s(se),{class:"trigger-icon size-4 relative transition-transform"}),s(t)&&e.label?(i(),g("span",{key:0,class:S(("cn"in e?e.cn:s(V))("absolute text-sm font-medium top-3 left-3 animate-in slide-in-from-bottom-1 -translate-y-1/2 label-text transition-all",e.state==="error"?"text-destructive":" text-muted-foreground"))},y(e.label),3)):C("",!0)]),_:1},8,["class"]),a(E,null,{default:l(()=>[a(v,{class:"min-w-[160px] max-h-[300px] overflow-auto w-[var(--radix-select-trigger-width)] bg-[#252528] border rounded shadow-lg will-change-[opacity,transform] animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=top]:slide-in-from-bottom-1 data-[side=right]:slide-in-from-left-1 z-[100]",position:"popper",side:"bottom","side-offset":5},{default:l(()=>[a(o,{class:"p-3"},{default:l(()=>[(i(!0),g(T,null,P(e.options,(c,O)=>(i(),p(b,{key:O,value:c,class:"text-[14px] leading-none rounded-[3px] flex items-center h-[35px] px-[15px] relative select-none data-[disabled]:text-muted-foreground data-[disabled]:pointer-events-none data-[highlighted]:outline-none data-[highlighted]:bg-primary"},{default:l(()=>[a(_,{class:"absolute right-[15px] size-[12px] rounded-full bg-foreground inline-flex items-center justify-center"}),a(h,null,{default:l(()=>[N(y(c),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","disabled","name"])}}}),le={key:0,class:"text-sm text-destructive animate-in slide-in-from-top-1 absolute -bottom-4 font-semibold"},re=x({__name:"form-select",props:{name:{},label:{default:""},id:{},placeholder:{},disabled:{type:Boolean},options:{default:()=>[]},showErrorOnTouch:{type:Boolean,default:!1}},setup(f){return(n,t)=>(i(),p(s(Z),{name:n.name,class:"relative",as:"div"},{default:l(({value:e,handleChange:r,errorMessage:d,meta:u})=>[a(ne,{"model-value":e,"onUpdate:modelValue":r,name:n.name,disabled:n.disabled,placeholder:n.placeholder,id:n.id,options:n.options,state:d?"error":"normal",label:n.label},null,8,["model-value","onUpdate:modelValue","name","disabled","placeholder","id","options","state","label"]),u.touched||n.showErrorOnTouch?(i(),g("div",le,y(d),1)):C("",!0)]),_:1},8,["name"]))}}),ie=["DJ","MC","Artist","Hype Man","Radio Host","Business","Other"],de=x({__name:"host-signup-form",setup(f){const{$repo:{auth:n}}=J(),{saveAuthUser:t}=W(),e=L(!1),r=async d=>{var _,h,b;e.value=!0;const u={...d,password_confirmation:d.password};try{e.value=!0;const o=await n.registerHost(u),v=o==null?void 0:o.message;I({title:v,description:"Follow the link in your email to verify your email",variant:"normal",duration:8e4}),e.value=!1,t(o.data.token,o.data.user);const w=((_=o==null?void 0:o.data)==null?void 0:_.role)==="host"?"/profile":"/search";Q().push(w)}catch(o){e.value=!1,I({title:"Failed",description:((h=o==null?void 0:o.data)==null?void 0:h.message)??"Sign up failed. Please try again",variant:"warning"}),console.error("ERROR LOGGING IN",(b=o==null?void 0:o.data)==null?void 0:b.message)}};return(d,u)=>(i(),p(s(ee),{"validation-schema":s(ae),onSubmit:r,class:"space-y-7"},{default:l(()=>[a(k,{name:"email",placeholder:"Enter your email",label:"Email",type:"email"}),a(k,{name:"stage_name",placeholder:"Enter your stage name",label:"Stage name"}),a(re,{options:[...s(ie)],name:"profession",placeholder:"Choose your profession",label:"Profession"},null,8,["options"]),a(k,{name:"password",placeholder:"Enter your password",type:"password",label:"Password"}),a(K,{class:"w-full",type:"submit",size:"lg",disabled:s(e)},{default:l(()=>[s(e)?(i(),p(s(oe),{key:0,class:"animate-spin mr-2"})):C("",!0),m("span",null,y(s(e)?"Please wait...":"Submit"),1)]),_:1},8,["disabled"])]),_:1},8,["validation-schema"]))}}),me={class:"h-full"},ue={class:"fixed top-12 left-0"},ce={class:"pt-2"},pe={class:"w-[400px] max-w-full mx-auto"},fe={class:"text-center mt-2"},Se=x({__name:"host",setup(f){return(n,t)=>{const e=B,r=Y;return i(),g("div",me,[a(r,{name:"auth"},{default:l(()=>[m("div",ue,[a(X,{to:"/signup"})]),m("div",ce,[t[2]||(t[2]=m("div",{class:"text-primary text-center my-2 text-xl"}," Create your account ",-1)),t[3]||(t[3]=m("div",{class:"text-4xl lg:text-5xl font-semibold my-4 text-center max-w-[595px] mx-auto font-display"}," Create your free host account ",-1)),m("div",pe,[a(de),m("div",fe,[t[1]||(t[1]=N(" Already a user? ")),a(e,{to:"/login",class:"underline hover:no-underline ml-1"},{default:l(()=>t[0]||(t[0]=[N("LOGIN")])),_:1})])])])]),_:1})])}}});export{Se as default};
