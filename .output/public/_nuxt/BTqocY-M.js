import{_ as S}from"./DuZ3zr3E.js";import{h as g,f as N,i as A,r as E,o as c,n as x,w as r,b as s,m as o,L as k,q as C,a as n,t as L,_ as O,s as h,p as P,c as R,v as $,d as y}from"./nPKPItbM.js";import{_ as B}from"./iZtZZNnV.js";import{_ as m,F}from"./BNj9gTV5.js";import{_ as H}from"./B_1ZbJFH.js";import{H as G}from"./CcStMmz-.js";import{u as I}from"./BQfFxr_E.js";import"./DhTY8djw.js";import"./DNE0MoN8.js";import"./DUXXyp4T.js";import"./Cpj98o6Y.js";const V=["DJ","MC","Artist","Hype Man","Radio Host","Business","Other"],M=g({__name:"host-signup-form",setup(v){const{$repo:{auth:u}}=N(),{saveAuthUser:e}=A(),a=E(!1),i=async l=>{var d,_,f;a.value=!0;const p={...l,password_confirmation:l.password};try{a.value=!0;const t=await u.registerHost(p),w=t==null?void 0:t.message;h({title:w,description:"Follow the link in your email to verify your email",variant:"normal",duration:8e4}),a.value=!1,e(t.data.token,t.data.user);const b=((d=t==null?void 0:t.data)==null?void 0:d.role)==="host"?"/profile":"/search";P().push(b)}catch(t){a.value=!1,h({title:"Failed",description:((_=t==null?void 0:t.data)==null?void 0:_.message)??"Sign up failed. Please try again",variant:"warning"}),console.error("ERROR LOGGING IN",(f=t==null?void 0:t.data)==null?void 0:f.message)}};return(l,p)=>(c(),x(o(F),{"validation-schema":o(G),onSubmit:i,class:"space-y-7"},{default:r(()=>[s(m,{name:"email",placeholder:"Enter your email",label:"Email",type:"email"}),s(m,{name:"stage_name",placeholder:"Enter your stage name",label:"Stage name"}),s(H,{options:[...o(V)],name:"profession",placeholder:"Choose your profession",label:"Profession"},null,8,["options"]),s(m,{name:"password",placeholder:"Enter your password",type:"password",label:"Password"}),s(O,{class:"w-full",type:"submit",size:"lg",disabled:o(a)},{default:r(()=>[o(a)?(c(),x(o(k),{key:0,class:"animate-spin mr-2"})):C("",!0),n("span",null,L(o(a)?"Please wait...":"Submit"),1)]),_:1},8,["disabled"])]),_:1},8,["validation-schema"]))}}),T={class:"h-full"},D={class:"fixed top-12 left-0"},U={class:"pt-2"},q={class:"max-w-[90%] mx-auto w-[400px]"},z={class:"text-center mt-2"},ot=g({__name:"host",setup(v){return I({title:"Sign Up As A host"}),(u,e)=>{const a=S,i=$;return c(),R("div",T,[s(i,{name:"auth"},{default:r(()=>[n("div",D,[s(B,{to:"/signup"})]),n("div",U,[e[2]||(e[2]=n("div",{class:"text-primary text-center my-2 text-xl"}," Create your account ",-1)),e[3]||(e[3]=n("div",{class:"text-4xl lg:text-5xl font-semibold my-4 text-center max-w-[595px] mx-auto font-display"}," Create your free host account ",-1)),n("div",q,[s(M),n("div",z,[e[1]||(e[1]=y(" Already a user? ")),s(a,{to:"/login",class:"underline hover:no-underline ml-1"},{default:r(()=>e[0]||(e[0]=[y("LOGIN")])),_:1})])])])]),_:1})])}}});export{ot as default};
