import{_ as w}from"./5ad2ctqa.js";import{m as y,u as h,r as b,o as l,n as _,w as r,b as t,p as s,q as N,a as o,t as k,_ as L,s as p,c as S,d as f,v as A}from"./BLB5eLYR.js";import{A as C,_ as E}from"./97UBxoeg.js";import{_ as x,F as $}from"./CyJj4kkq.js";import{L as B}from"./isthPvu_.js";import"./CG-7ofru.js";const F=y({__name:"audience-signup-form",setup(g){const{$repo:{auth:m}}=h(),e=b(!1),i=async n=>{var u,d;e.value=!0;const c={...n,password_confirmation:n.password};try{e.value=!0;const a=await m.registerAudience(c),v=a==null?void 0:a.message;p({title:v,description:"Follow the link in your email to verify your email",variant:"normal",duration:8e4}),e.value=!1}catch(a){e.value=!1,p({title:"Failed",description:((u=a==null?void 0:a.data)==null?void 0:u.message)??"Sign up failed. Please try again",variant:"warning"}),console.error("ERROR LOGGING IN",(d=a==null?void 0:a.data)==null?void 0:d.message)}};return(n,c)=>(l(),_(s($),{"validation-schema":s(C),onSubmit:i,class:"space-y-7"},{default:r(()=>[t(x,{name:"email",placeholder:"Enter your email",label:"Email",type:"email"}),t(x,{name:"password",placeholder:"Enter your password",type:"password",label:"Password"}),t(L,{class:"w-full",type:"submit",size:"lg",disabled:s(e)},{default:r(()=>[s(e)?(l(),_(s(B),{key:0,class:"animate-spin mr-2"})):N("",!0),o("span",null,k(s(e)?"Please wait...":"Submit"),1)]),_:1},8,["disabled"])]),_:1},8,["validation-schema"]))}}),G={class:"h-full"},V={class:"pt-2"},I={class:"w-[400px] max-w-full mx-auto"},O={class:"text-center mt-2"},H=y({__name:"audience",setup(g){return(m,e)=>{const i=w,n=A;return l(),S("div",G,[t(n,{name:"auth"},{default:r(()=>[t(E,{to:"/signup"}),o("div",V,[e[2]||(e[2]=o("div",{class:"text-primary text-center my-2 text-xl"}," Create your account ",-1)),e[3]||(e[3]=o("div",{class:"text-4xl lg:text-5xl font-semibold my-4 text-center max-w-[595px] mx-auto"}," Create your free audience account ",-1)),o("div",I,[t(F),o("div",O,[e[1]||(e[1]=f(" Already a user? ")),t(i,{to:"/login",class:"underline hover:no-underline ml-1"},{default:r(()=>e[0]||(e[0]=[f("LOGIN")])),_:1})])])])]),_:1})])}}});export{H as default};
