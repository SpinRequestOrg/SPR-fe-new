import{_ as F}from"./Bez0pCnl.js";import{_ as P}from"./C0LTNpc-.js";import{h as V,j as _,o as r,c as p,a as s,G as y,n as o,H as g,t as d,b as n,z as j,F as k,E as A,w as l,d as H,p as z,v as U,_ as G}from"./CJdMzcol.js";import{_ as J}from"./dH5jGXdA.js";import{u as X,a as K,F as O}from"./DMifyB1B.js";import{C as Q}from"./Cf-y7kbb.js";import{C as W}from"./BDognrZn.js";import{u as Z}from"./CJInYGIt.js";const ee={class:"font-display text-3xl font-medium capitalize"},te={class:"space-y-4 my-4"},se={class:"py-4 px-6 grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] gap-4 border bg-white/5 rounded-2xl"},oe={class:"space-y-1"},ne={class:"text-4xl font-semibold text-primary"},ae={class:"space-y-px"},re={class:"font-medium"},ie={class:"grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] gap-4"},de={class:"space-y-px"},le={class:"text-muted-foreground"},me={key:0,class:"grid grid-cols-[1fr,_auto,_auto,_auto] gap-4 items-center"},pe="https://dev.spinrequest.com",ke=V({__name:"request-receipt-item",props:{request:{},event:{},print:{type:Boolean}},setup($){const a=$,T=_(()=>{var i,m,c,f;const e={name:"Event",value:(i=a.event)==null?void 0:i.title},t={name:"Host",value:(m=a.request)==null?void 0:m.host.stage_name},u={name:"Location",value:(c=a.event)==null?void 0:c.address},h={name:"Date",value:Z((f=a.event)==null?void 0:f.start_date,"dddd, MMMM D, YYYY")};return[e,t,u,h]}),N=e=>{var t;O.saveAs(e,`spin-request-receipt-${(t=a.event)==null?void 0:t.title}`)},{converting:R,convertNodeToImage:B}=X("#RECEIPT_PRINT",N),E=_(()=>{var e,t;return`I just made a ${((e=a.request)==null?void 0:e.type)??"song"} request on SpinRequest. Join ${(t=a.request)==null?void 0:t.host.stage_name} live event to make yours.`}),I=_(()=>{var e;return`${pe}/${((e=a.request)==null?void 0:e.host.slug)??""}`}),{copyLink:L,copied:M,whatsappShareLink:D,twitterShareLink:Y,externalNavigate:q}=K(I,E);return(e,t)=>{var c,f,w,b,C,x,S;const u=F,h=P,i=G,m=J;return r(),p("div",{class:y(("cn"in e?e.cn:o(g))(" rounded-xl",e.print?"p-4 border-2 border-primary bg-background":"p-4 md:p-8 bg-white/5"))},[s("div",{class:y(("cn"in e?e.cn:o(g))("flex flex-col items-center gap-6",e.print?"":"md:flex-row md:justify-between"))},[s("div",{class:y(("cn"in e?e.cn:o(g))("text-center order-2",e.print?"":"md:text-left md:order-1"))},[s("div",ee,d((c=e.request)==null?void 0:c.type)+" Request receipt ",1),s("div",{class:y(("cn"in e?e.cn:o(g))("text-muted-foreground leading-tight my-2",e.print?"":"md:w-3/4"))},d(((f=e.request)==null?void 0:f.type)==="hype"?"Your request has been submitted, we will notify you when your hype has been performed":"Your request has been submitted, we will notify you when your song has been played"),3)],2),s("div",{class:y(("cn"in e?e.cn:o(g))("flex items-center shrink-0 text-primary gap-x-1 order-1",e.print?"":"md:order-2"))},[n(u,{name:"spin-logo"}),t[2]||(t[2]=s("div",{class:"text-base font-medium"},"SpinRequest",-1))],2)],2),s("div",te,[s("div",se,[s("div",oe,[t[3]||(t[3]=s("div",{class:"text-muted-foreground"},"Total amount",-1)),s("div",ne," â‚¦"+d(("formatMoney"in e?e.formatMoney:o(j))(((w=e.request)==null?void 0:w.price)??0)),1)]),s("div",ae,[((b=e.request)==null?void 0:b.type)==="hype"?(r(),p(k,{key:0},[t[4]||(t[4]=s("div",{class:"text-muted-foreground"},"Hype request for",-1)),n(h,{class:"font-medium",content:((C=e.request)==null?void 0:C.description)??""},null,8,["content"])],64)):(r(),p(k,{key:1},[t[5]||(t[5]=s("div",{class:"text-muted-foreground"},"Song title",-1)),s("div",re,d(((x=e.request)==null?void 0:x.song_title)??""),1),s("div",null,"by "+d(((S=e.request)==null?void 0:S.artist)??""),1)],64))])]),s("div",ie,[(r(!0),p(k,null,A(o(T),v=>(r(),p("div",{class:"p-4 rounded-2xl bg-white/5 border",key:v.name},[s("div",de,[s("div",le,d(v.name),1),s("div",null,d(v.value),1)])]))),128))]),e.print?U("",!0):(r(),p("div",me,[n(i,{size:"lg",class:"uppercase",loading:o(R),onClick:o(B)},{default:l(()=>t[6]||(t[6]=[H(" Download Receipt "),s("span",{class:"hidden md:inline ml-1"}," & loud IT",-1)])),_:1},8,["loading","onClick"]),n(m,{message:"Share to twitter/X"},{default:l(()=>[n(i,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:t[0]||(t[0]=v=>o(q)(o(Y)))},{default:l(()=>[n(u,{name:"x"})]),_:1})]),_:1}),n(m,{message:"Share to whatsapp"},{default:l(()=>[n(i,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:t[1]||(t[1]=v=>o(q)(o(D)))},{default:l(()=>[n(u,{name:"whatsapp",class:"scale-[0.7]"})]),_:1})]),_:1}),n(m,{message:"Copy link"},{default:l(()=>[n(i,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:o(L)},{default:l(()=>[o(M)?(r(),z(o(Q),{key:0,class:"text-muted-foreground size-4"})):(r(),z(o(W),{key:1,class:"text-muted-foreground size-4"}))]),_:1},8,["onClick"])]),_:1})]))])],2)}}});export{ke as _};
