import{_ as B}from"./oBTpqreC.js";import{_ as F}from"./CzNM3mkv.js";import{h as A,o as m,p as I,w as v,b as x,c as w,F as U,E as q,G as J,n as l,H as K,Q as P,a as p,t as j,v as E,x as H,O as G,T as Q,P as X,r as S,f as Y,l as Z,$ as ee,a0 as te,J as ne,_ as ae,m as ie}from"./DDutlV_8.js";import{A as se}from"./TVEflOxp.js";import{r as re,i as oe,a as L}from"./QHn3D8cw.js";import{S as le}from"./DXGaJi5U.js";import{A as ue}from"./D2UBLVOJ.js";const ce={class:"text-base font-semibold"},de={key:0,class:"inline-flex gap-1 items-center bg-white/10 rounded-2xl px-2 py-1"},fe={key:1,class:"p-4 text-center text-base text-muted-foreground"},me=A({__name:"host-search-list",props:{hosts:{default:()=>[]}},setup(t){const n=(a,i)=>{a.preventDefault(),H(`/${i}`)};return(a,i)=>{const u=F,_=B,f=G,o=Q,c=X;return m(),I(c,{class:"w-full rounded-2xl bg-[#252528]"},{default:v(()=>[x(o,{class:"max-h-[296px] overflow-auto w-full p-2"},{default:v(()=>[a.hosts.length?(m(!0),w(U,{key:0},q(a.hosts,(e,d)=>(m(),I(f,{key:e.id+d,value:e.id,onSelect:r=>n(r,e.slug)},{default:v(()=>[x(_,{to:`/${e==null?void 0:e.slug}`,class:J(("cn"in a?a.cn:l(K))(e.is_live?"grid-cols-host-item__live":"grid-cols-host-item","w-full grid gap-2 items-center border-0 py-[8px] px-[12px] h-[56px] leading-none text-[13px] relative select-none outline-none ring-1 ring-transparent hover:bg-white/5 data-[highlighted]:bg-white/5 [&:hover_.goto]:!block [&[data-highlighted]_.goto]:block focus:ring-input data-[state=checked]:ring-ring data-[state=checked]:text-white data-[disabled]:opacity-50 rounded-lg cursor-pointer"))},{default:v(()=>[x(u,{initials:("getInitials"in a?a.getInitials:l(P))((e==null?void 0:e.stage_name)??(e==null?void 0:e.email)),image:e.profile_picture},null,8,["initials","image"]),p("span",ce,j((e==null?void 0:e.stage_name)??(e==null?void 0:e.email)),1),e.is_live?(m(),w("div",de,i[0]||(i[0]=[p("span",null,"LIVE",-1),p("span",{class:"size-2 rounded-full bg-destructive"},null,-1)]))):E("",!0),x(l(se),{class:"goto size-4 text-muted-foreground hidden animate-in slide-in-from-bottom-2"})]),_:2},1032,["to","class"])]),_:2},1032,["value","onSelect"]))),128)):(m(),w("div",fe," No match found "))]),_:1})]),_:1})}}});var $=function(){return re.Date.now()},pe=/\s/;function _e(t){for(var n=t.length;n--&&pe.test(t.charAt(n)););return n}var ge=/^\s+/;function he(t){return t&&t.slice(0,_e(t)+1).replace(ge,"")}var R=NaN,xe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,be=/^0o[0-7]+$/i,ye=parseInt;function O(t){if(typeof t=="number")return t;if(oe(t))return R;if(L(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=L(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=he(t);var a=ve.test(t);return a||be.test(t)?ye(t.slice(2),a?2:8):xe.test(t)?R:+t}var we="Expected a function",ke=Math.max,Se=Math.min;function Ie(t,n,a){var i,u,_,f,o,c,e=0,d=!1,r=!1,b=!0;if(typeof t!="function")throw new TypeError(we);n=O(n)||0,L(a)&&(d=!!a.leading,r="maxWait"in a,_=r?ke(O(a.maxWait)||0,n):_,b="trailing"in a?!!a.trailing:b);function g(s){var h=i,y=u;return i=u=void 0,e=s,f=t.apply(y,h),f}function M(s){return e=s,o=setTimeout(k,n),d?g(s):f}function W(s){var h=s-c,y=s-e,C=n-h;return r?Se(C,_-y):C}function N(s){var h=s-c,y=s-e;return c===void 0||h>=n||h<0||r&&y>=_}function k(){var s=$();if(N(s))return z(s);o=setTimeout(k,W(s))}function z(s){return o=void 0,b&&i?g(s):(i=u=void 0,f)}function D(){o!==void 0&&clearTimeout(o),e=0,i=c=u=o=void 0}function V(){return o===void 0?f:z($())}function T(){var s=$(),h=N(s);if(i=arguments,u=this,c=s,h){if(o===void 0)return M(c);if(r)return clearTimeout(o),o=setTimeout(k,n),g(c)}return o===void 0&&(o=setTimeout(k,n)),f}return T.cancel=D,T.flush=V,T}const Te={class:"relative rounded-full border border-input focus-within:ring-ring shadow-sm transition-colors bg-white/5 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground focus-within:outline-none focus-within:ring-1 pl-12 pr-8 py-6 h-[56px]"},$e={class:"absolute right-4 top-1/2 -translate-y-[52%] z-[4]"},Ee={class:"absolute left-0 translate-y-[35px] z-[5] w-full"},Le=A({__name:"host-search-input",setup(t){const n=S(""),a=S(!1),i=S([]),u=S(!1),{$repo:{user:_}}=Y(),o=Ie(async()=>{var e,d;try{a.value=!0;const r=await _.searchHost(n.value);a.value=!1,(e=r==null?void 0:r.data)!=null&&e.hosts&&(i.value=(d=r==null?void 0:r.data)==null?void 0:d.hosts),u.value=!0}catch(r){a.value=!1,i.value=[],console.error("ERORO",r)}},300);Z(n,e=>{e&&o(),e||(i.value=[],u.value=!1)});const c=e=>{if(e.key==="Enter"&&n.value)return H(`/search?search=${n.value}`)};return(e,d)=>{const r=B,b=me;return m(),w("div",Te,[ee(p("input",{type:"text",placeholder:"Search DJs MCs, Hypeman name",class:"focus-visible:outline-none bg-transparent text-base absolute inset-0 p-[inherit] z-[3]","onUpdate:modelValue":d[0]||(d[0]=g=>ne(n)?n.value=g:null),onKeyup:c},null,544),[[te,l(n)]]),x(l(le),{class:"absolute left-4 top-1/2 -translate-y-[52%] size-5 text-muted-foreground"}),p("div",$e,[x(r,{to:`/search?search=${l(n)}`},{default:v(()=>{var g;return[l(n)||l(a)?(m(),I(ae,{key:0,size:"icon",variant:"outline",class:"animate-in slide-in-from-left-1 fade-out-0",loading:l(a),disabled:!((g=l(i))!=null&&g.length)},{default:v(()=>[x(l(ue))]),_:1},8,["loading","disabled"])):E("",!0)]}),_:1},8,["to"])]),p("div",Ee,[l(u)&&l(n)?(m(),I(b,{key:0,hosts:l(i),class:"animate-in slide-in-from-top-1 fade-in-20"},null,8,["hosts"])):E("",!0)])])}}}),Ae={class:"container pt-20 h-full relative"},Ne={class:"max-w-full w-[600px] mx-auto"},We=A({__name:"audience",setup(t){return ie({title:"Request A Song or Hype"}),(n,a)=>{const i=Le;return m(),w("div",Ae,[a[1]||(a[1]=p("div",{class:"bg-sp-purple/50 blur-[200px] size-56 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[2]"},null,-1)),p("div",Ne,[a[0]||(a[0]=p("div",{class:"font-display text-3xl md:text-4xl font-semibold text-center mb-12"}," Who do you want to request a song from? ",-1)),x(i)])])}}});export{We as default};
