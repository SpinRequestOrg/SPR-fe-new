import{_ as H}from"./DIZiXf5M.js";import{e as q,h as T,l as P,o as r,c as _,a5 as M,a,r as F,n as k,w as g,m as s,R as K,b as l,ai as U,_ as w,j as I,f as Y,t as $,F as C,q as L,N,s as V,v as Z,O as W,d as E,M as J,a4 as Q,P as X,i as ee,aj as te,Z as se,L as j}from"./DTGmCQaw.js";import{e as ne,_ as oe}from"./CYrrK555.js";import{_ as ae}from"./D8cXDicw.js";import{_ as G}from"./DWCfrxu_.js";import{_ as ie}from"./BDhpUCi8.js";import{_ as le}from"./DkIvyjkl.js";import{D as O}from"./zomKQjDy.js";import{_ as re}from"./DlAUqK2U.js";import{u as de}from"./enh3a8ZW.js";import{u as ce}from"./BDuxVxUi.js";import"./BTbq_b96.js";import"./7PFEtTIK.js";import"./hKXqQsaN.js";import"./HPFfvvDq.js";import"./BdhUDuGy.js";import"./DUXXyp4T.js";import"./Cpj98o6Y.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=q("PenIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=q("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ve={class:"flex flex-row [&_>_*]:shrink-0 h-full items-center"},pe=T({__name:"carousel",props:{options:{},plugins:{default:()=>[]},onReady:{}},setup(y){const o=y,[e,f]=ne(o.options,o.plugins);return P(()=>f.value,d=>{var v;d&&((v=o.onReady)==null||v.call(o,d))}),(d,v)=>(r(),_("div",{class:"overflow-hidden",ref_key:"emblaRef",ref:e},[M(d.$slots,"container",{},()=>[a("div",ve,[M(d.$slots,"default")])])],512))}}),fe={class:"p-6"},_e=T({__name:"edit-event",props:{id:{},title:{},address:{},country:{},state:{},type:{},song_price:{},hype_price:{}},emits:["done"],setup(y,{emit:o}){const e=y,f=o,d=F(!1),v=()=>{f("done"),d.value=!1};return(i,p)=>{const x=w,u=ie;return r(),k(u,{size:"lg",modelValue:s(d),"onUpdate:modelValue":p[0]||(p[0]=c=>K(d)?d.value=c:null),controlled:""},{heading:g(()=>p[1]||(p[1]=[a("div",{class:"font-display text-2xl font-medium"},"Edit event",-1)])),trigger:g(()=>[M(i.$slots,"default",{},()=>[l(x,{variant:"ghost",size:"icon"},{default:g(()=>[l(s(ue),{class:"size-5 text-muted-foreground"})]),_:1})])]),default:g(()=>[a("div",fe,[l(le,U(e,{edit:"",id:i.id,onDone:v}),null,16,["id"])])]),_:3},8,["modelValue"])}}}),ge={class:"rounded-2xl bg-background border border-ring/30 px-4 sm:px-6 py-4 relative overflow-hidden w-full grid"},ye={class:"grid grid-cols-[1fr_auto_auto] gap-x-2 items-center relative z-10"},xe={class:"mb-1 font-semibold text-2xl"},he={class:"flex text-sm text-muted-foreground gap-1 items-center"},be={class:"space-y-2 my-6"},ke={class:"capitalize"},$e={class:"tabular-nums"},S=T({__name:"event-card",props:{event:{}},emits:["done"],setup(y,{emit:o}){const e=y,f=o,d=I(()=>{var m,b,h,z,B,R;const[t,n]=e.event.types.map(D=>D.name);return{title:((m=e==null?void 0:e.event)==null?void 0:m.title)??"",address:((b=e==null?void 0:e.event)==null?void 0:b.address)??"",country:(h=e==null?void 0:e.event)==null?void 0:h.country,state:(z=e==null?void 0:e.event)==null?void 0:z.state,hype_price:((B=e.event.types.find(D=>D.name==="hype"))==null?void 0:B.price)??0,song_price:((R=e.event.types.find(D=>D.name==="song"))==null?void 0:R.price)??0,type:n?"both":t}}),v=Q("aspect-square rounded-full grid place-items-center",{variants:{type:{song:"bg-[#FFEE99]/10",hype:"bg-[#FF99F1]/10"}},defaultVariants:{type:"song"}}),{$repo:{event:i}}=Y(),p=F(!1),x=async()=>{var t;try{p.value=!0;const n=await i.goLive(e.event.id);V({title:n.message}),n.data&&Z(`/events/${n.data.id}`),p.value=!1}catch(n){const m=n;p.value=!1,console.error("FAILED TO GO LIVE",m),V({title:"Failed",description:((t=m==null?void 0:m.data)==null?void 0:t.message)??"Failed to go live",variant:"warning"})}},u=F(!1),c=async()=>{var t;try{u.value=!0;const n=await i.deleteEvent(e.event.id);u.value=!1,V({title:n.message}),f("done")}catch(n){const m=n;u.value=!1,console.error("FAILED TO DELETE EVENT",m),V({title:"Failed",description:((t=m==null?void 0:m.data)==null?void 0:t.message)??"Failed to delete event",variant:"warning"})}};return(t,n)=>{const m=ae,b=G;return r(),_("div",ge,[n[3]||(n[3]=a("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0"},null,-1)),a("div",ye,[a("div",xe,$(t.event.title),1),t.event.status==="new"?(r(),_(C,{key:0},[l(_e,U(s(d),{id:t.event.id,onDone:n[0]||(n[0]=h=>f("done"))}),null,16,["id"]),l(oe,{message:"Are you sure you want to delete this event","on-confirm":c},{default:g(()=>[l(w,{size:"icon",variant:"ghost",loading:s(u)},{default:g(()=>[l(s(me),{class:"size-5 text-muted-foreground cursor-pointer"})]),_:1},8,["loading"])]),_:1})],64)):L("",!0)]),a("div",he,[l(m,{name:"location"}),a("div",null,$(t.event.address),1)]),a("div",be,[(r(!0),_(C,null,N(t.event.types,h=>(r(),_("div",{class:"grid grid-cols-[35px_1fr_auto] gap-x-2 items-center",key:h.id},[a("div",{class:W(s(v)({type:h.name}))},[l(m,{class:"scale-50",name:h.name=="song"?"music":"mic"},null,8,["name"])],2),a("div",ke,[E($(h.name)+" ",1),n[1]||(n[1]=a("span",{class:"hidden md:inline"},"request",-1))]),a("div",$e,"₦"+$(("formatMoney"in t?t.formatMoney:s(J))(h.price)),1)]))),128))]),t.event.status==="live"?(r(),k(b,{key:0,to:`/events/${t.event.id}`,class:"mt-auto"},{default:g(()=>[l(w,{size:"lg",class:"w-full bg-[#38F08D] text-background",variant:"ghost"},{default:g(()=>[l(s(O)),n[2]||(n[2]=E("BACK TO EVENT ")),l(s(O))]),_:1})]),_:1},8,["to"])):(r(),k(w,{key:1,size:"lg",class:"w-full mt-auto animate-pulse bg-gradient-to-r from-[#844AFF] from-[1.28%] via-[#E991DD] via-[58.26%] to-[#FCF0AF] to-[100%]",onClick:x,loading:s(p),disabled:t.event.status==="ended"},{default:g(()=>[E($(t.event.status==="ended"?"ENDED":"GO LIVE"),1)]),_:1},8,["loading","disabled"]))])}}}),we={},Ee={class:"rounded-2xl bg-background border border-foreground/20 px-4 sm:px-6 py-4 relative overflow-hidden grid"};function Fe(y,o){const e=w,f=G;return r(),_("div",Ee,[o[1]||(o[1]=a("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0 z-[2]"},null,-1)),o[2]||(o[2]=a("div",{class:"mb-4 font-semibold text-2xl"},"Events",-1)),o[3]||(o[3]=a("div",{class:"text-muted-foreground"}," Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed qu ",-1)),l(f,{to:"/create-event",class:"mt-auto"},{default:g(()=>[l(e,{size:"lg",class:"w-full mt-6 uppercase"},{default:g(()=>o[0]||(o[0]=[E(" ✨ Create an event ✨ ")])),_:1})]),_:1})])}const A=re(we,[["render",Fe]]),ze=y=>{const o=F(0),e=F([]),f=i=>{y.value&&y.value.scrollTo(i)},d=i=>{e.value=i.scrollSnapList()},v=i=>{o.value=i.selectedScrollSnap()};return P(y,i=>{i&&(d(i),v(i),i.on("reInit",d).on("reInit",v).on("select",v))}),{selected_index:o,control_list:e,goTo:f}},De={key:0},Le={class:"flex flex-row items-stretch gap-x-2"},Ce={class:"mt-6 p-2 flex items-center justify-center gap-x-2 z-10 relative"},Te=["onClick"],Ve=T({__name:"event-carousel",props:{events:{}},emits:["done"],setup(y,{emit:o}){const e=F(),f=x=>{e.value=x},d=o,{control_list:v,selected_index:i,goTo:p}=ze(e);return(x,u)=>{var c;return(c=x.events)!=null&&c.length?(r(),_("div",De,[l(pe,{options:{slidesToScroll:"auto"},onReady:f},{container:g(()=>[a("div",Le,[l(A,{class:"w-[90%] shrink-0"}),(r(!0),_(C,null,N(x.events,t=>(r(),k(S,{class:"w-[90%] shrink-0",key:t.id,event:t,onDone:u[0]||(u[0]=n=>d("done"))},null,8,["event"]))),128))])]),_:1}),a("div",Ce,[(r(!0),_(C,null,N(s(v),(t,n)=>(r(),_("div",{class:W(("cn"in x?x.cn:s(X))("size-3 rounded-full transition-all",s(i)===n?"bg-primary":"bg-muted")),key:t+n,onClick:()=>s(p)(n)},null,10,Te))),128))])])):(r(),k(A,{key:1}))}}}),Ie={class:"container pt-10 pb-40"},Ne={class:"flex gap-x-2 items-center mb-8"},Me={class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-display tracking-wide"},Se={key:0,class:"flex justify-center mac:hidden py-2"},Ae={class:"sticky mac:hidden w-scree -trnslate-x-[var(--cp)] mb-6 z-20"},Be={class:"grid mac:grid-cols-[1fr_auto] items-start gap-4"},Re={class:"order-2 mac:order-1"},je={class:"relative bg-white/5 rounded-2xl p-6 border flex items-center justify-between overflow-hidden"},Oe={class:"max-w-full w-full hidden mac:grid mac:w-[380px] order-1 mac:order-2 space-y-6"},qe={class:"sticky top-[80px] left-0 right-0 z-10 space-y-6"},Pe={key:0,class:"my-6 grid place-items-center"},rt=T({__name:"dashboard",setup(y){const{auth_user:o}=ee(),{data:e,status:f,error:d,refresh:v}=de("/events"),i=I(()=>{var u,c,t;return(c=(u=e.value)==null?void 0:u.data)!=null&&c.length?(t=e.value)==null?void 0:t.data.filter(n=>n.status==="new"):[]}),p=I(()=>{var u,c;return(c=(u=e.value)==null?void 0:u.data)==null?void 0:c.find(t=>t.status==="live")}),x=I(()=>p.value?[p.value,...i.value]:[...i.value]);return ce({title:"Host Dashboard"}),(u,c)=>{var m,b,h;const t=H,n=Ve;return r(),_("div",Ie,[a("div",Ne,[l(t,{class:"!bg-[#FF99F1] size-[56px] shrink-0 text-background text-xl font-bold",initials:("getInitials"in u?u.getInitials:s(se))(((m=s(o))==null?void 0:m.stage_name)??""),image:(b=s(o))==null?void 0:b.profile_picture},null,8,["initials","image"]),a("div",Me,[c[0]||(c[0]=E(" Welcome, ")),a("b",null,$((h=s(o))==null?void 0:h.stage_name),1)])]),s(f)==="pending"?(r(),_("div",Se,[l(s(j),{class:"size-5 animate-spin"})])):L("",!0),a("div",Ae,[l(n,{events:s(x),onDone:s(v)},null,8,["events","onDone"])]),a("div",Be,[a("div",Re,[a("div",je,[c[2]||(c[2]=te('<div class="bg-sp-purple/50 blur-[200px] size-56 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[2]"></div><div class="space-y-2"><div class="text-muted-foreground">Withdrawable balance</div><div class="flex gap-2"><div class="text-3xl md:text-4xl font-semibold">$35,243</div><div></div></div></div>',2)),l(w,null,{default:g(()=>c[1]||(c[1]=[E("MY WALLET")])),_:1})])]),a("div",Oe,[a("div",qe,[l(A),s(p)?(r(),k(S,{key:0,event:s(p),onDone:s(v)},null,8,["event","onDone"])):L("",!0)]),s(f)==="pending"?(r(),_("div",Pe,[l(s(j),{class:"size-5 animate-spin"})])):L("",!0),s(e)&&!s(d)?(r(!0),_(C,{key:1},N(s(i),z=>(r(),k(S,{key:z.id,event:z,onDone:s(v)},null,8,["event","onDone"]))),128)):L("",!0)])])])}}});export{rt as default};
