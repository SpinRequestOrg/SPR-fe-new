import{_}from"./Ceiwx9J8.js";import{_ as x,F as g}from"./BYhwzVSq.js";import{p as v,u as w,r as h,o as r,c as b,b as o,a as s,w as m,_ as y,y as i,z as E,A as k,t as S,s as d,B,L as R}from"./BYH92m9P.js";import{c as $,a as F}from"./BqjAheMm.js";import"./BbCDls9e.js";const N={class:"container pt-8"},q={class:"w-[400px] max-w-full mx-auto"},z={class:"flex justify-center gap-x-1 items-center mt-2 text-muted-foreground"},C=["disabled"],P=v({__name:"index",setup(D){const c=$({email:F().required("Email is required").email("Enter a valid email")}),{$repo:{auth:u}}=w(),t=h(!1),p=async({email:l})=>{var a,n;try{t.value=!0;const e=await u.requestResetLink(l),f=e==null?void 0:e.message;d({title:"Success",description:f,variant:"normal"}),B().push("/login"),t.value=!1}catch(e){t.value=!1,d({title:"Failed",description:((a=e==null?void 0:e.data)==null?void 0:a.message)??"Failed to send reset link",variant:"warning"}),console.error("ERROR",(n=e==null?void 0:e.data)==null?void 0:n.message)}};return(l,a)=>{const n=_;return r(),b("div",N,[o(n,{to:"/login"}),a[1]||(a[1]=s("div",{class:"text-4xl lg:text-5xl font-semibold my-4 text-center max-w-[595px] mx-auto"}," Forgot password? ",-1)),a[2]||(a[2]=s("div",{class:"text-muted-foreground text-center mb-6"}," Enter your email and we will send you a reset link ",-1)),s("div",q,[o(i(g),{"validation-schema":i(c),onSubmit:p},{default:m(()=>[o(x,{type:"email",name:"email",placeholder:"Enter your email",label:"Email"}),o(y,{class:"w-full flex mt-6",size:"lg",disabled:i(t)},{default:m(()=>[i(t)?(r(),E(i(R),{key:0,class:"size-4 animate-spin mr-2"})):k("",!0),s("span",null,S(i(t)?"Please wait":"Send link"),1)]),_:1},8,["disabled"]),s("div",z,[a[0]||(a[0]=s("span",null,"Didn't receive the mail?",-1)),s("button",{class:"outline-none underline hover:no-underline",disabled:i(t)}," RESEND ",8,C)])]),_:1},8,["validation-schema"])])])}}});export{P as default};
