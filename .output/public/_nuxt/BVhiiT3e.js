import{_ as M}from"./D8FlHw4v.js";import{_ as F}from"./BbpJ2SlF.js";import{e as q,h as z,o as m,p as S,w as v,b as x,c as k,F as U,z as K,B as j,n as l,C as J,$ as P,a as p,t as X,v as L,x as W,W as Y,Y as Z,Z as G,r as I,f as Q,l as ee,a8 as te,a9 as ne,S as ae,_ as ie,m as se}from"./CNW6Hso0.js";import{A as re}from"./CRdEs6yi.js";import{r as oe,i as le,a as E}from"./QHn3D8cw.js";import{S as ue}from"./GcSo9T7Y.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=q("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),de={class:"text-base font-semibold"},fe={key:0,class:"inline-flex gap-1 items-center bg-white/10 rounded-2xl px-2 py-1"},me={key:1,class:"p-4 text-center text-base text-muted-foreground"},pe=z({__name:"host-search-list",props:{hosts:{default:()=>[]}},setup(t){const n=(a,i)=>{a.preventDefault(),W(`/${i}`)};return(a,i)=>{const u=F,g=M,f=Y,o=Z,c=G;return m(),S(c,{class:"w-full rounded-2xl bg-[#252528]"},{default:v(()=>[x(o,{class:"max-h-[296px] overflow-auto w-full p-2"},{default:v(()=>[a.hosts.length?(m(!0),k(U,{key:0},K(a.hosts,(e,d)=>(m(),S(f,{key:e.id+d,value:e.id,onSelect:r=>n(r,e.slug)},{default:v(()=>[x(g,{to:`/${e==null?void 0:e.slug}`,class:j(("cn"in a?a.cn:l(J))(e.is_live?"grid-cols-host-item__live":"grid-cols-host-item","w-full grid gap-2 items-center border-0 py-[8px] px-[12px] h-[56px] leading-none text-[13px] relative select-none outline-none ring-1 ring-transparent hover:bg-white/5 data-[highlighted]:bg-white/5 [&:hover_.goto]:!block [&[data-highlighted]_.goto]:block focus:ring-input data-[state=checked]:ring-ring data-[state=checked]:text-white data-[disabled]:opacity-50 rounded-lg cursor-pointer"))},{default:v(()=>[x(u,{initials:("getInitials"in a?a.getInitials:l(P))((e==null?void 0:e.stage_name)??(e==null?void 0:e.email)),image:e.profile_picture},null,8,["initials","image"]),p("span",de,X((e==null?void 0:e.stage_name)??(e==null?void 0:e.email)),1),e.is_live?(m(),k("div",fe,i[0]||(i[0]=[p("span",null,"LIVE",-1),p("span",{class:"size-2 rounded-full bg-destructive"},null,-1)]))):L("",!0),x(l(re),{class:"goto size-4 text-muted-foreground hidden animate-in slide-in-from-bottom-2"})]),_:2},1032,["to","class"])]),_:2},1032,["value","onSelect"]))),128)):(m(),k("div",me," No match found "))]),_:1})]),_:1})}}});var T=function(){return oe.Date.now()},ge=/\s/;function _e(t){for(var n=t.length;n--&&ge.test(t.charAt(n)););return n}var he=/^\s+/;function xe(t){return t&&t.slice(0,_e(t)+1).replace(he,"")}var R=NaN,ve=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,ye=/^0o[0-7]+$/i,ke=parseInt;function B(t){if(typeof t=="number")return t;if(le(t))return R;if(E(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=E(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=xe(t);var a=be.test(t);return a||ye.test(t)?ke(t.slice(2),a?2:8):ve.test(t)?R:+t}var we="Expected a function",Ie=Math.max,Se=Math.min;function $e(t,n,a){var i,u,g,f,o,c,e=0,d=!1,r=!1,b=!0;if(typeof t!="function")throw new TypeError(we);n=B(n)||0,E(a)&&(d=!!a.leading,r="maxWait"in a,g=r?Ie(B(a.maxWait)||0,n):g,b="trailing"in a?!!a.trailing:b);function _(s){var h=i,y=u;return i=u=void 0,e=s,f=t.apply(y,h),f}function O(s){return e=s,o=setTimeout(w,n),d?_(s):f}function H(s){var h=s-c,y=s-e,N=n-h;return r?Se(N,g-y):N}function A(s){var h=s-c,y=s-e;return c===void 0||h>=n||h<0||r&&y>=g}function w(){var s=T();if(A(s))return C(s);o=setTimeout(w,H(s))}function C(s){return o=void 0,b&&i?_(s):(i=u=void 0,f)}function D(){o!==void 0&&clearTimeout(o),e=0,i=c=u=o=void 0}function V(){return o===void 0?f:C(T())}function $(){var s=T(),h=A(s);if(i=arguments,u=this,c=s,h){if(o===void 0)return O(c);if(r)return clearTimeout(o),o=setTimeout(w,n),_(c)}return o===void 0&&(o=setTimeout(w,n)),f}return $.cancel=D,$.flush=V,$}const Te={class:"relative rounded-full border border-input focus-within:ring-ring shadow-sm transition-colors bg-white/5 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground focus-within:outline-none focus-within:ring-1 pl-12 pr-8 py-6 h-[56px]"},Le={class:"absolute right-4 top-1/2 -translate-y-[52%] z-[4]"},Ee={class:"absolute left-0 translate-y-[35px] z-[5] w-full"},ze=z({__name:"host-search-input",setup(t){const n=I(""),a=I(!1),i=I([]),u=I(!1),{$repo:{user:g}}=Q(),o=$e(async()=>{var e,d;try{a.value=!0;const r=await g.searchHost(n.value);a.value=!1,(e=r==null?void 0:r.data)!=null&&e.hosts&&(i.value=(d=r==null?void 0:r.data)==null?void 0:d.hosts),u.value=!0}catch(r){a.value=!1,i.value=[],console.error("ERORO",r)}},300);ee(n,e=>{e&&o(),e||(i.value=[],u.value=!1)});const c=e=>{if(e.key==="Enter"&&n.value)return W(`/search?search=${n.value}`)};return(e,d)=>{const r=M,b=pe;return m(),k("div",Te,[te(p("input",{type:"text",placeholder:"Search DJs MCs, Hypeman name",class:"focus-visible:outline-none bg-transparent text-base absolute inset-0 p-[inherit] z-[3]","onUpdate:modelValue":d[0]||(d[0]=_=>ae(n)?n.value=_:null),onKeyup:c},null,544),[[ne,l(n)]]),x(l(ue),{class:"absolute left-4 top-1/2 -translate-y-[52%] size-5 text-muted-foreground"}),p("div",Le,[x(r,{to:`/search?search=${l(n)}`},{default:v(()=>{var _;return[l(n)||l(a)?(m(),S(ie,{key:0,size:"icon",variant:"outline",class:"animate-in slide-in-from-left-1 fade-out-0",loading:l(a),disabled:!((_=l(i))!=null&&_.length)},{default:v(()=>[x(l(ce))]),_:1},8,["loading","disabled"])):L("",!0)]}),_:1},8,["to"])]),p("div",Ee,[l(u)&&l(n)?(m(),S(b,{key:0,hosts:l(i),class:"animate-in slide-in-from-top-1 fade-in-20"},null,8,["hosts"])):L("",!0)])])}}}),Ae={class:"container pt-20 h-full relative"},Ce={class:"max-w-full w-[600px] mx-auto"},He=z({__name:"audience",setup(t){return se({title:"Request A Song or Hype"}),(n,a)=>{const i=ze;return m(),k("div",Ae,[a[1]||(a[1]=p("div",{class:"bg-sp-purple/50 blur-[200px] size-56 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[2]"},null,-1)),p("div",Ce,[a[0]||(a[0]=p("div",{class:"font-display text-3xl md:text-4xl font-semibold text-center mb-12"}," Who do you want to request a song from? ",-1)),x(i)])])}}});export{He as default};
