import{_ as A}from"./DAdhcmzE.js";import{_ as $}from"./BcKNt5iN.js";import{p as L,u as C,r as D,o as i,c as d,a as e,t as v,b as o,F as N,N as q,M as V,y as a,z as b,w as u,_ as g,d as m,aa as I,s as E,H as T,q as B,v as O,ad as M,A as z,ab as S,L as W}from"./_S93IMfv.js";import{_ as G}from"./Bc1Nd0w-.js";import{D as h}from"./xfkCsLt5.js";import{u as j}from"./BgZyX8IJ.js";import"./UX-pA4ni.js";const H={class:"rounded-2xl bg-[#F5F5F50D]/5 px-6 py-4 relative overflow-hidden w-full"},K={class:"mb-1 font-semibold text-2xl"},Y={class:"flex text-sm text-muted-foreground gap-1 items-center"},J={class:"space-y-6 mt-6"},P={class:"capitalize"},Q=L({__name:"event-card",props:{event:{}},setup(y){const p=y,c=I("aspect-square rounded-full grid place-items-center",{variants:{type:{song:"bg-[#FFEE99]/10",hype:"bg-[#FF99F1]/10"}},defaultVariants:{type:"song"}}),{$repo:{event:f}}=C(),r=D(!1),_=async()=>{var s;try{r.value=!0;const t=await f.goLive(p.event.id);E({title:t.message}),t.data&&T(`/request-list/${t.data.id}`),r.value=!1}catch(t){r.value=!1,console.error("FAILED TO GO LIVE",t),E({title:"Failed",description:((s=t==null?void 0:t.data)==null?void 0:s.message)??"Failed to go live",variant:"warning"})}};return(s,t)=>{const l=G,x=$;return i(),d("div",H,[t[3]||(t[3]=e("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0 z-[2]"},null,-1)),e("div",K,v(s.event.title),1),e("div",Y,[o(l,{name:"location"}),e("div",null,v(s.event.address),1)]),e("div",J,[(i(!0),d(N,null,q(s.event.requests,n=>(i(),d("div",{class:"grid grid-cols-[25px_1fr_auto] gap-x-2",key:n.id},[e("div",{class:V(a(c)({type:n.type}))},[o(l,{name:n.type=="song"?"music":"mic"},null,8,["name"])],2),e("div",P,v(n.type)+" request",1),t[0]||(t[0]=e("div",null,null,-1))]))),128))]),s.event.status==="live"?(i(),b(x,{key:0,to:`/request-list/${s.event.id}`},{default:u(()=>[o(g,{size:"lg",class:"w-full mt-6 bg-[#38F08D] text-background",variant:"ghost"},{default:u(()=>[o(a(h)),t[1]||(t[1]=m(" BACK TO EVENT ")),o(a(h))]),_:1})]),_:1},8,["to"])):(i(),b(g,{key:1,size:"lg",class:"w-full mt-6 animate-pulse bg-gradient-to-r from-[#844AFF] from-[1.28%] via-[#E991DD] via-[58.26%] to-[#FCF0AF] to-[100%]",onClick:_,loading:a(r)},{default:u(()=>t[2]||(t[2]=[m(" GO LIVE")])),_:1},8,["loading"]))])}}}),R={class:"container pt-10 pb-20"},U={class:"flex gap-x-2 items-center mb-8"},X={class:"text-3xl md:text-4xl lg:text-5xl font-display tracking-wide"},Z={class:"grid mac:grid-cols-[1fr_auto] items-start gap-4"},tt={class:"order-2 mac:order-1"},et={class:"relative bg-white/5 rounded-2xl p-6 border flex items-center justify-between overflow-hidden"},st={class:"max-w-full w-full mac:w-[380px] order-1 mac:order-2 grid space-y-6"},at={class:"rounded-2xl bg-[#F5F5F50D]/5 px-6 py-4 relative overflow-hidden w-full"},ot={key:1,class:"my-6 grid place-items-center"},ct=L({__name:"dashboard",setup(y){const{auth_user:p}=B(),{data:c,status:f,error:r}=j("/events"),_=O(()=>{var s,t,l;return(t=(s=c.value)==null?void 0:s.data)!=null&&t.length?(l=c.value)==null?void 0:l.data:[]});return(s,t)=>{var n,F,w;const l=A,x=$;return i(),d("div",R,[e("div",U,[o(l,{class:"!bg-[#FF99F1] size-[56px] shrink-0 text-background text-xl font-bold",initials:("getInitials"in s?s.getInitials:a(S))(((n=a(p))==null?void 0:n.stage_name)??""),image:(F=a(p))==null?void 0:F.profile_picture},null,8,["initials","image"]),e("div",X,[t[0]||(t[0]=m(" Welcome, ")),e("b",null,v((w=a(p))==null?void 0:w.stage_name),1)])]),e("div",Z,[e("div",tt,[e("div",et,[t[2]||(t[2]=M('<div class="bg-sp-purple/50 blur-[200px] size-56 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[2]"></div><div class="space-y-2"><div class="text-muted-foreground">Withdrawable balance</div><div class="flex gap-2"><div class="text-3xl md:text-4xl font-semibold">$35,243</div><div></div></div></div>',2)),o(g,null,{default:u(()=>t[1]||(t[1]=[m("MY WALLET")])),_:1})])]),e("div",st,[e("div",at,[t[4]||(t[4]=e("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0 z-[2]"},null,-1)),t[5]||(t[5]=e("div",{class:"mb-4 font-semibold text-2xl"},"Events",-1)),t[6]||(t[6]=e("div",{class:"text-muted-foreground"}," Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed qu ",-1)),o(x,{to:"/create-event"},{default:u(()=>[o(g,{size:"lg",class:"w-full mt-6 uppercase"},{default:u(()=>t[3]||(t[3]=[m(" ✨ Create an event ✨ ")])),_:1})]),_:1})]),a(c)&&!a(r)?(i(!0),d(N,{key:0},q(a(_),k=>(i(),b(Q,{key:k.id,event:k},null,8,["event"]))),128)):z("",!0),a(f)==="pending"?(i(),d("div",ot,[o(a(W),{class:"size-5 animate-spin"})])):z("",!0)])])])}}});export{ct as default};
