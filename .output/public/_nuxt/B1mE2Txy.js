import{_ as O}from"./DL30T5yh.js";import{h as F,l as M,o,c as v,ab as I,a as s,f as j,r as h,t as g,b as u,F as k,Q as w,n as b,w as f,m as a,_ as $,s as V,x as W,R,d as x,O as G,aa as H,S as K,i as P,j as z,q as y,ak as Q,a6 as U,L as A}from"./CvmUOF0K.js";import{e as Y,D as B}from"./CG_RSgCJ.js";import{_ as J}from"./BBS-zHhX.js";import{_ as q}from"./1oisvJoa.js";import{_ as X}from"./DlAUqK2U.js";import{u as Z}from"./CXtZsCVx.js";import{u as ee}from"./DUDgB96_.js";const te={class:"flex flex-row [&_>_*]:shrink-0 h-full items-center"},se=F({__name:"carousel",props:{options:{},plugins:{default:()=>[]},onReady:{}},setup(_){const t=_,[d,p]=Y(t.options,t.plugins);return M(()=>p.value,i=>{var c;i&&((c=t.onReady)==null||c.call(t,i))}),(i,c)=>(o(),v("div",{class:"overflow-hidden",ref_key:"emblaRef",ref:d},[I(i.$slots,"container",{},()=>[s("div",te,[I(i.$slots,"default")])])],512))}}),ae={class:"rounded-2xl bg-background border border-ring/30 px-4 sm:px-6 py-4 relative overflow-hidden w-full grid"},ne={class:"mb-1 font-semibold text-2xl"},oe={class:"flex text-sm text-muted-foreground gap-1 items-center"},le={class:"space-y-2 my-6"},ie={class:"capitalize"},re={class:"tabular-nums"},C=F({__name:"event-card",props:{event:{}},setup(_){const t=_,d=H("aspect-square rounded-full grid place-items-center",{variants:{type:{song:"bg-[#FFEE99]/10",hype:"bg-[#FF99F1]/10"}},defaultVariants:{type:"song"}}),{$repo:{event:p}}=j(),i=h(!1),c=async()=>{var e;try{i.value=!0;const l=await p.goLive(t.event.id);V({title:l.message}),l.data&&W(`/events/${l.data.id}`),i.value=!1}catch(l){i.value=!1,console.error("FAILED TO GO LIVE",l),V({title:"Failed",description:((e=l==null?void 0:l.data)==null?void 0:e.message)??"Failed to go live",variant:"warning"})}};return(e,l)=>{const m=J,n=q;return o(),v("div",ae,[l[2]||(l[2]=s("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0 z-[2]"},null,-1)),s("div",ne,g(e.event.title),1),s("div",oe,[u(m,{name:"location"}),s("div",null,g(e.event.address),1)]),s("div",le,[(o(!0),v(k,null,w(e.event.types,r=>(o(),v("div",{class:"grid grid-cols-[35px_1fr_auto] gap-x-2 items-center",key:r.id},[s("div",{class:R(a(d)({type:r.name}))},[u(m,{class:"scale-50",name:r.name=="song"?"music":"mic"},null,8,["name"])],2),s("div",ie,[x(g(r.name)+" ",1),l[0]||(l[0]=s("span",{class:"hidden md:inline"},"request",-1))]),s("div",re,"₦"+g(("formatMoney"in e?e.formatMoney:a(G))(r.price)),1)]))),128))]),e.event.status==="live"?(o(),b(n,{key:0,to:`/events/${e.event.id}`,class:"mt-auto"},{default:f(()=>[u($,{size:"lg",class:"w-full bg-[#38F08D] text-background",variant:"ghost"},{default:f(()=>[u(a(B)),l[1]||(l[1]=x("BACK TO EVENT ")),u(a(B))]),_:1})]),_:1},8,["to"])):(o(),b($,{key:1,size:"lg",class:"w-full mt-auto animate-pulse bg-gradient-to-r from-[#844AFF] from-[1.28%] via-[#E991DD] via-[58.26%] to-[#FCF0AF] to-[100%]",onClick:c,loading:a(i),disabled:e.event.status==="ended"},{default:f(()=>[x(g(e.event.status==="ended"?"ENDED":"GO LIVE"),1)]),_:1},8,["loading","disabled"]))])}}}),de={},ce={class:"rounded-2xl bg-background border border-foreground/20 px-4 sm:px-6 py-4 relative overflow-hidden grid"};function ue(_,t){const d=$,p=q;return o(),v("div",ce,[t[1]||(t[1]=s("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0 z-[2]"},null,-1)),t[2]||(t[2]=s("div",{class:"mb-4 font-semibold text-2xl"},"Events",-1)),t[3]||(t[3]=s("div",{class:"text-muted-foreground"}," Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed qu ",-1)),u(p,{to:"/create-event",class:"mt-auto"},{default:f(()=>[u(d,{size:"lg",class:"w-full mt-6 uppercase"},{default:f(()=>t[0]||(t[0]=[x(" ✨ Create an event ✨ ")])),_:1})]),_:1})])}const L=X(de,[["render",ue]]),me=_=>{const t=h(0),d=h([]),p=e=>{_.value&&_.value.scrollTo(e)},i=e=>{d.value=e.scrollSnapList()},c=e=>{t.value=e.selectedScrollSnap()};return M(_,e=>{e&&(i(e),c(e),e.on("reInit",i).on("reInit",c).on("select",c))}),{selected_index:t,control_list:d,goTo:p}},ve={key:0},pe={class:"flex flex-row items-stretch gap-x-2"},_e={class:"mt-6 p-2 flex items-center justify-center gap-x-2 z-10 relative"},fe=["onClick"],ge=F({__name:"event-carousel",props:{events:{}},setup(_){const t=h(),d=e=>{t.value=e},{control_list:p,selected_index:i,goTo:c}=me(t);return(e,l)=>{var m;return(m=e.events)!=null&&m.length?(o(),v("div",ve,[u(se,{options:{slidesToScroll:"auto"},onReady:d},{container:f(()=>[s("div",pe,[u(L,{class:"w-[90%] shrink-0"}),(o(!0),v(k,null,w(e.events,n=>(o(),b(C,{class:"w-[90%] shrink-0",key:n.id,event:n},null,8,["event"]))),128))])]),_:1}),s("div",_e,[(o(!0),v(k,null,w(a(p),(n,r)=>(o(),v("div",{class:R(("cn"in e?e.cn:a(K))("size-3 rounded-full transition-all",a(i)===r?"bg-primary":"bg-muted")),key:n+r,onClick:()=>a(c)(r)},null,10,fe))),128))])])):(o(),b(L,{key:1}))}}}),xe={class:"container pt-10 pb-40"},be={class:"flex gap-x-2 items-center mb-8"},ye={class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-display tracking-wide"},he={key:0,class:"flex justify-center mac:hidden py-2"},ke={class:"sticky mac:hidden w-scree -trnslate-x-[var(--cp)] mb-6 z-20"},we={class:"grid mac:grid-cols-[1fr_auto] items-start gap-4"},$e={class:"order-2 mac:order-1"},Fe={class:"relative bg-white/5 rounded-2xl p-6 border flex items-center justify-between overflow-hidden"},Ee={class:"max-w-full w-full hidden mac:grid mac:w-[380px] order-1 mac:order-2 space-y-6"},ze={class:"sticky top-[80px] left-0 right-0 z-10 space-y-6"},Ce={key:0,class:"my-6 grid place-items-center"},Be=F({__name:"dashboard",setup(_){const{auth_user:t}=P(),{data:d,status:p,error:i}=Z("/events"),c=z(()=>{var m,n,r;return(n=(m=d.value)==null?void 0:m.data)!=null&&n.length?(r=d.value)==null?void 0:r.data.filter(E=>E.status==="new"):[]}),e=z(()=>{var m,n;return(n=(m=d.value)==null?void 0:m.data)==null?void 0:n.find(r=>r.status==="live")}),l=z(()=>e.value?[e.value,...c.value]:[...c.value]);return ee({title:"Host Dashboard"}),(m,n)=>{var N,S,T;const r=O,E=ge;return o(),v("div",xe,[s("div",be,[u(r,{class:"!bg-[#FF99F1] size-[56px] shrink-0 text-background text-xl font-bold",initials:("getInitials"in m?m.getInitials:a(U))(((N=a(t))==null?void 0:N.stage_name)??""),image:(S=a(t))==null?void 0:S.profile_picture},null,8,["initials","image"]),s("div",ye,[n[0]||(n[0]=x(" Welcome, ")),s("b",null,g((T=a(t))==null?void 0:T.stage_name),1)])]),a(p)==="pending"?(o(),v("div",he,[u(a(A),{class:"size-5 animate-spin"})])):y("",!0),s("div",ke,[u(E,{events:a(l)},null,8,["events"])]),s("div",we,[s("div",$e,[s("div",Fe,[n[2]||(n[2]=Q('<div class="bg-sp-purple/50 blur-[200px] size-56 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[2]"></div><div class="space-y-2"><div class="text-muted-foreground">Withdrawable balance</div><div class="flex gap-2"><div class="text-3xl md:text-4xl font-semibold">$35,243</div><div></div></div></div>',2)),u($,null,{default:f(()=>n[1]||(n[1]=[x("MY WALLET")])),_:1})])]),s("div",Ee,[s("div",ze,[u(L),a(e)?(o(),b(C,{key:0,event:a(e)},null,8,["event"])):y("",!0)]),a(p)==="pending"?(o(),v("div",Ce,[u(a(A),{class:"size-5 animate-spin"})])):y("",!0),a(d)&&!a(i)?(o(!0),v(k,{key:1},w(a(c),D=>(o(),b(C,{key:D.id,event:D},null,8,["event"]))),128)):y("",!0)])])])}}});export{Be as default};
