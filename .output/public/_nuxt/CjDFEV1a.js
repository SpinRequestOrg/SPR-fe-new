import{_ as E}from"./D8FlHw4v.js";import{h as T,r as A,j as D,o as d,c as i,b as l,w as r,n as o,a as t,F as m,z as f,v as S,p as x,t as a,A as g,T as O,U as R,V as z}from"./CNW6Hso0.js";import{_ as M,C as h}from"./6o2ZWATb.js";import{u as V}from"./DCLVAHNd.js";import{C as B}from"./D5pFYd-g.js";const F=["onClick"],I={class:"min-h-[297px] grid place-items-center"},L={class:"space-y-4"},U={class:"space-y-1 md:hidden"},j={class:"font-semibold"},G={class:"space-y-4 px-4 pb-4"},Q={class:"space-y-1"},Y={class:""},$={class:"space-y-1"},H={class:""},X={class:"space-y-1"},q={class:""},J={class:"space-y-1"},K={class:""},P={key:0,class:"min-h-[297px] grid place-items-center"},W={class:"space-y-4"},nt=T({__name:"event-history-table",props:{onDone:{type:Function}},setup(b){const C=A(["EVENT","LOCATION","DATE","REQUESTS","EARNING"]),c=b,{data:v,status:y}=V("/past/events",{onResponse(){var n,e,p,_;(p=(e=(n=v.value)==null?void 0:n.data)==null?void 0:e.event_details)!=null&&p.length&&((_=c==null?void 0:c.onDone)==null||_.call(c,!0))}}),u=D(()=>{var n,e;return((e=(n=v.value)==null?void 0:n.data)==null?void 0:e.event_details)??[]});return(n,e)=>{const p=E,_=O,k=R,N=z;return d(),i(m,null,[l(M,{heading:o(C),data:o(u),loading:o(y)==="pending",class:"hidden md:block"},{empty:r(()=>[t("div",I,[t("div",L,[l(o(h),{class:"size-8 block mx-auto"}),e[0]||(e[0]=t("div",{class:"text-2xl font-semibold text-muted-foreground text-center"}," No events yet ",-1)),e[1]||(e[1]=t("div",{class:"text-sm text-muted-foreground text-center"}," You haven’t completed any event yet. Once you do, your events will appear here ",-1))])])]),default:r(()=>[(d(!0),i(m,null,f(o(u),s=>(d(),x(p,{custom:"",key:s.id,to:`events/${s.id}/event-details`},{default:r(({navigate:w})=>[t("tr",{class:"!h-20 text-muted-foreground",onClick:w},[t("td",null,a(s.title),1),t("td",null,a(s.address),1),t("td",null,a(s.start_date),1),t("td",null,a(s.id),1),t("td",null,"₦"+a(("formatMoney"in n?n.formatMoney:o(g))(s.earnings??0)),1)],8,F)]),_:2},1032,["to"]))),128))]),_:1},8,["heading","data","loading"]),t("div",U,[o(y)==="pending"?(d(),i(m,{key:0},f(4,s=>t("div",{class:"h-10 bg-white/5 animate-pulse",key:s})),64)):(d(),i(m,{key:1},[(d(!0),i(m,null,f(o(u),s=>(d(),x(N,{key:s.id,class:"rounded-lg bg-white/5"},{default:r(()=>[l(_,{class:"flex items-center justify-between w-full p-4 [&[data-state='open']_.caret]:rotate-180"},{default:r(()=>[t("div",j,a(s.title),1),l(o(B),{class:"size-5 caret transition-transform relative"})]),_:2},1024),l(k,{class:"data-[state=open]:animate-collapsibleSlideDown data-[state=closed]:animate-collapsibleSlideUp overflow-hidden"},{default:r(()=>[t("div",G,[t("div",Q,[e[2]||(e[2]=t("div",{class:"text-sm text-muted-foreground"},"LOCATION",-1)),t("div",Y,a(s.address),1)]),t("div",$,[e[3]||(e[3]=t("div",{class:"text-sm text-muted-foreground"},"DATE",-1)),t("div",H,a(s.start_date),1)]),t("div",X,[e[4]||(e[4]=t("div",{class:"text-sm text-muted-foreground"},"REQUESTS",-1)),t("div",q,a(s.id),1)]),t("div",J,[e[5]||(e[5]=t("div",{class:"text-sm text-muted-foreground"},"EARNING",-1)),t("div",K,"₦"+a(("formatMoney"in n?n.formatMoney:o(g))(s.earnings??0)),1)])])]),_:2},1024)]),_:2},1024))),128)),o(u).length?S("",!0):(d(),i("div",P,[t("div",W,[l(o(h),{class:"size-8 block mx-auto"}),e[6]||(e[6]=t("div",{class:"text-2xl font-semibold text-muted-foreground text-center"}," No events yet ",-1)),e[7]||(e[7]=t("div",{class:"text-sm text-muted-foreground text-center"}," You haven’t completed any event yet. Once you do, your events will appear here ",-1))])]))],64))])],64)}}});export{nt as _};
