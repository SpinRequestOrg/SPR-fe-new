import{_ as Re}from"./xr56lFKX.js";import{_ as ze}from"./cx0Fgq8K.js";import{_ as Be}from"./DKXuFCCF.js";import{_ as pe,F as Ie,b as Te}from"./DNJm67-s.js";import{_ as Me}from"./BsKV2gou.js";import{f as de,aq as qe,S as Se,e as je,h as ue,i as Ce,r as N,o as i,p as U,w as x,a6 as Fe,b as l,d as M,_ as z,a as o,n as a,s as S,x as Ge,P as me,Q as fe,c as A,t as P,L as _e,v as I,ah as He,ar as Qe,j as R,as as Ve,m as We,N as Ue,$ as Ze}from"./B2Nt2AJp.js";import{_ as Ke}from"./IWh8Fnp5.js";import{_ as De}from"./BsDAlB8P.js";import{C as Ye,U as Je}from"./DgeoO79t.js";import{b as Xe}from"./CPqQkYPr.js";import{u as ve}from"./DtWIZfjO.js";import{C as ea,a as aa}from"./DS8HFD4R.js";import{p as ta}from"./CvnJZugq.js";import{_ as T}from"./DzyaNUOY.js";import"./CzcN1GqA.js";import"./DX3XRJSK.js";import"./DUXXyp4T.js";import"./Cpj98o6Y.js";const oa="$s";function $e(...C){const h=typeof C[C.length-1]=="string"?C.pop():void 0;typeof C[0]!="string"&&C.unshift(h);const[g,p]=C;if(!g||typeof g!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+g);if(p!==void 0&&typeof p!="function")throw new Error("[nuxt] [useState] init must be a function: "+p);const w=oa+g,_=de(),m=qe(_.payload.state,w);if(m.value===void 0&&p){const r=p();if(Se(r))return _.payload.state[w]=r,r;m.value=r}return m}/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=je("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),na={class:"p-6"},la={class:"pt-6"},ra=ue({__name:"password-change",setup(C){const{$repo:{auth:h}}=de(),{logOut:g}=Ce(),p=N(!1),w=async _=>{var m,r;try{p.value=!0;const s=await h.changePassword(_),k=s==null?void 0:s.message;S({title:"Success",description:k,variant:"normal"}),p.value=!1,g(()=>Ge("/login"))}catch(s){p.value=!1,S({title:"Failed",description:((m=s==null?void 0:s.data)==null?void 0:m.message)??"Invalid credentials",variant:"warning"}),console.error("ERROR LOGGING IN",(r=s==null?void 0:s.data)==null?void 0:r.message)}};return(_,m)=>{const r=De;return i(),U(r,{size:"md"},{trigger:x(()=>[Fe(_.$slots,"default",{},()=>[l(z,{variant:"secondary",class:"self-center"},{default:x(()=>m[0]||(m[0]=[M("CHANGE")])),_:1})])]),heading:x(()=>m[1]||(m[1]=[o("div",{class:"font-display text-2xl font-medium"},"Change password",-1)])),default:x(()=>[o("div",na,[l(a(Ie),{class:"space-y-6 mt-2","validation-schema":a(Ye),onSubmit:w},{default:x(()=>[l(pe,{name:"old_password",label:"Old password",placeholder:"Enter your old password",type:"password"}),l(pe,{name:"password",label:"New password",placeholder:"Enter your new password",type:"password"}),l(pe,{name:"password_confirmation",label:"Confirm password",placeholder:"Confirm your new password",type:"password"}),o("div",la,[l(z,{size:"lg",type:"submit",class:"w-full",loading:a(p)},{default:x(()=>m[2]||(m[2]=[M(" SAVE PASSWORD ")])),_:1},8,["loading"])])]),_:1},8,["validation-schema"])])]),_:3})}}}),ia=()=>{const{$repo:{auth:C}}=de(),h=N(!1),g=N(),p=N(),w=N(),_=N();return{previewFile:s=>{var k;try{if(!s.type.startsWith("image/")){S({title:"Upload only image",variant:"warning"});return}const $=new FileReader;$.onload=u=>{var f;_.value=s,w.value=(f=u.target)==null?void 0:f.result},$.onerror=u=>{var f,L;_.value=void 0,S({title:"Preview Error",description:((L=(f=u.target)==null?void 0:f.error)==null?void 0:L.message)??"Failed to preview",variant:"warning"})},$.readAsDataURL(s)}catch($){_.value=void 0,g.value=void 0,h.value=!1;const u=$;p.value=u,S({title:"Preview Error",description:((k=u==null?void 0:u.data)==null?void 0:k.message)??"Failed to preview",variant:"warning"})}},uploadFile:async(s,k)=>{var $;try{const u=k||_.value;if(!u||!u.type.startsWith("image/")){S({title:u?"Upload only image":"Upload a file",variant:"warning"});return}const f=new FileReader;f.onload=y=>{var b;w.value=(b=y.target)==null?void 0:b.result},f.readAsDataURL(u);const L=new FormData;L.append("profile_picture",u,u.name),h.value=!0;const O=await C.uploadFile(L);h.value=!1,O.data&&(g.value=O.data,s==null||s(O.data))}catch(u){g.value=void 0,h.value=!1;const f=u;p.value=f,S({title:"Upload Error",description:(($=f==null?void 0:f.data)==null?void 0:$.message)??"Failed to upload",variant:"warning"})}},uploading:h,upload_error:p,upload_preview:w,uploaded_url:g}},da={class:"p-6"},ua=["src"],ca={key:1,class:"space-y-4 place-center w-full grid place-items-center text-center relative"},pa={class:"space-y-2"},ma={class:"text-2xl font-medium font-display"},fa={key:0,class:"grid grid-cols-2 gap-4 mt-6 items-center"},Ee=ue({__name:"upload-photo",emits:["uploaded"],setup(C,{emit:h}){const g=h,p=N(!1),w=N(),{previewFile:_,uploadFile:m,uploading:r,upload_error:s,upload_preview:k,uploaded_url:$}=ia(),u=y=>{y!=null&&y.length&&_(y[0])},f=y=>{const q=y.target.files;u(q)},L=()=>{m(y=>{g("uploaded",y),p.value=!1,S({title:"Done",description:"Picture uploaded"})})},{isOverDropZone:O}=Xe(w,{onDrop:u,dataTypes:["image/jpeg","image/jpg","image/png"],multiple:!1,preventDefaultForUnhandled:!1});return(y,b)=>{const q=De;return i(),U(q,{size:"md",modelValue:a(p),"onUpdate:modelValue":b[0]||(b[0]=ce=>Se(p)?p.value=ce:null),controlled:""},{heading:x(()=>b[1]||(b[1]=[o("div",{class:"font-display text-2xl font-medium"},"Upload photo",-1)])),trigger:x(()=>[Fe(y.$slots,"default",{},()=>[l(z,{variant:"secondary",class:"w-full"},{default:x(()=>b[2]||(b[2]=[M("EDIT")])),_:1})])]),default:x(()=>[o("div",da,[o("div",{class:me(("cn"in y?y.cn:a(fe))("max-w-full w-[410px] mx-auto aspect-[1.42] border border-dashed rounded-lg relative",a(O)?" border-primary":" border-input")),ref_key:"dropZoneRef",ref:w},[a(k)?(i(),A("img",{key:0,src:a(k),alt:"profile-picture",class:"w-full h-full object-contain rounded-[inherit]"},null,8,ua)):(i(),A("div",ca,[l(a(sa),{class:"size-8 text-muted-foreground"}),o("div",pa,[o("div",ma,P(a(O)?"Drop picture":" Drag and drop picture"),1),b[3]||(b[3]=o("div",{class:"text-muted-foreground text-sm"}," JPEG, or PNG file with the max size of 3MB ",-1))])]))],2),a(k)?(i(),A("div",fa,[l(z,{variant:"secondary",size:"lg",class:"w-full relative"},{default:x(()=>b[4]||(b[4]=[o("label",{for:"upload",class:"absolute inset-0 cursor-pointer"},[o("div",{class:"place-center"},"CHANGE PHOTO")],-1)])),_:1}),l(z,{size:"lg",onClick:L,loading:a(r)},{default:x(()=>b[5]||(b[5]=[M(" SAVE ")])),_:1},8,["loading"])])):(i(),U(z,{key:1,variant:"secondary",size:"lg",class:"mt-6 w-full relative"},{default:x(()=>b[6]||(b[6]=[o("label",{for:"upload",class:"absolute inset-0 cursor-pointer"},[o("div",{class:"place-center"},"CLICK TO UPLOAD FILE")],-1)])),_:1})),o("input",{type:"file",id:"upload",class:"hidden",accept:".jpeg, .jpg, .png",onChange:f},null,32)])]),_:3},8,["modelValue"])}}}),_a={class:"bg-white/5 rounded-3xl border p-6"},va={class:"text-2xl font-semibold"},ga={class:"size-[192px] mx-auto my-6 grid place-items-center"},ba=["src"],ya={class:"overflow-hidden text-ellipsis line-clamp-1"},xa=["download","href"],wa=ue({__name:"qr-card",props:{id:{},name:{},link:{},qr:{}},setup(C){const h=C,g=N(!1),p=async()=>{await navigator.clipboard.writeText(h.link),g.value=!0,await ta(1200),g.value=!1},{status:w,data:_}=ve(`/qrcode/${h.id}`);return(m,r)=>{var k,$,u;const s=z;return i(),A("div",null,[o("div",_a,[o("div",va,P(m.name),1),o("div",ga,[a(w)==="pending"?(i(),U(a(_e),{key:0,class:"size-4 animate-spin"})):(k=a(_))!=null&&k.data?(i(),A("img",{key:1,src:($=a(_))==null?void 0:$.data,alt:"QR-CODE",class:"w-full h-full object-cover"},null,8,ba)):I("",!0)]),o("div",{class:"border rounded-full bg-white/5 relative px-4 py-2 flex justify-between items-center cursor-pointer hover:bg-white/10",onClick:p},[He(l(s,{variant:"outline",class:"absolute left-1/2 -translate-x-1/2 -traslate-y-1/2 animate-in animate-out fade-in-0 fade-out-0"},{default:x(()=>r[0]||(r[0]=[M(" Copied ")])),_:1},512),[[Qe,a(g)]]),o("div",ya,P(m.link),1),a(g)?(i(),U(a(ea),{key:0,class:"size-4"})):(i(),U(a(aa),{key:1,class:"size-4"}))])]),l(s,{size:"lg",class:"w-full mt-6 relative",disabled:!((u=a(_))!=null&&u.data)},{default:x(()=>{var f;return[o("a",{download:`${m.name}-spin-request-QR`,href:(f=a(_))==null?void 0:f.data,class:"inset-0 absolute grid place-items-center"}," DOWNLOAD QR CODE ",8,xa)]}),_:1},8,["disabled"])])}}}),ka={class:"container pb-20"},ha={class:"flex gap-x-2 items-center fixed top-24"},Va={class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-6"},Ua={class:"space-y-6"},$a={class:"flex items-center gap-x-2"},Ea={class:"space-y-2"},Sa={class:"font-semibold"},Ca={class:"text-foreground/80"},Fa={class:"lg:hidden"},Da={class:"hidden lg:block"},Aa={key:0,class:"border bg-white/5 p-6 rounded-2xl grid grid-cols-[56px_1fr_40px] lg:grid-cols-[56px_1fr_auto_40px] gap-x-4 items-center"},Na={class:"aspect-square border bg-white/10 rounded-full grid place-items-center"},Pa={class:"space-y-px"},La={class:"text-xl lg:hidden font-semibold"},Oa={class:"text-3xl font-semibold hidden lg:block"},Ra={key:1,class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-4"},za={class:"flex flex-wrap gap-4 items-center"},Ba={class:"flex items-center gap-2"},Ia={class:"flex items-center gap-1"},Ta={class:"font-semibold"},Ma={class:"flex items-center gap-2"},qa={class:"flex items-center gap-1"},ja={class:"font-semibold"},Ga={class:"flex items-center gap-2"},Ha={class:"flex items-center gap-1"},Qa={class:"font-semibold"},Wa={class:"flex items-center gap-2"},Za={class:"flex items-center gap-1"},Ka={class:"font-semibold"},Ya={class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-4"},Ja={class:"space-y-4"},Xa={class:"grid grid-cols-[repeat(auto-fit,_minmax(266px,_1fr))] gap-4"},et={class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-6"},at={key:2,class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-4"},tt={class:"space-y-4"},ot={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2"},st={class:"flex gap-x-1 items-center text-sm text-muted-foreground"},nt={class:"flex justify-end"},lt={key:0},rt={key:0,class:"w-full aspect-square rounded-3xl grid place-items-center border bg-white/5"},$t=ue({__name:"profile",setup(C){var ge,be;const{$config:{public:{APP_BASE_URL:h}},$repo:{auth:g,bank:p}}=de(),{auth_user:w,auth_token:_,saveAuthUser:m}=Ce(),r=R(()=>{var t;return((t=w.value)==null?void 0:t.role)==="host"}),{data:s,status:k,error:$,refresh:u}=ve("/user?stat=true"),{data:f,status:L}=ve("/bankaccount/list"),O=R(()=>{var t;return((t=f==null?void 0:f.value)==null?void 0:t.data)??[]}),y=R(()=>O.value.find(t=>t.name===n.value.bank_account.bank_name)),b=R(()=>O.value.map(t=>t.name)),q=R(()=>{var t,e,d,v;return((e=(t=s.value)==null?void 0:t.data)==null?void 0:e.stage_name)??((v=(d=s.value)==null?void 0:d.data)==null?void 0:v.email)}),ce=R(()=>Ze(q.value??"")),ne=N(((be=(ge=s.value)==null?void 0:ge.data)==null?void 0:be.profile_picture)??""),Ae=R(()=>{var t,e;return((e=(t=s.value)==null?void 0:t.data)==null?void 0:e.stage_name)??""}),Ne=R(()=>{var t,e;return`${h}/${((e=(t=s.value)==null?void 0:t.data)==null?void 0:e.slug)??""}`}),n=$e("HOST-PROFILE",()=>{var t,e,d,v,E,V,D,B,ie,j,G,H,Q,W,Z,K,Y,J,X,ee,ae,te,oe,se;return{user:{name:((e=(t=s.value)==null?void 0:t.data)==null?void 0:e.stage_name)??"",bio:((v=(d=s.value)==null?void 0:d.data)==null?void 0:v.bio)??"",dob:((V=(E=s.value)==null?void 0:E.data)==null?void 0:V.dob)??"",gender:((B=(D=s.value)==null?void 0:D.data)==null?void 0:B.gender)??"",country:((j=(ie=s.value)==null?void 0:ie.data)==null?void 0:j.country)??""},bank_account:{bank_name:((Q=(H=(G=s.value)==null?void 0:G.data)==null?void 0:H.bank_account)==null?void 0:Q.bank_name)??"",account_name:((K=(Z=(W=s.value)==null?void 0:W.data)==null?void 0:Z.bank_account)==null?void 0:K.account_name)??"",account_number:((X=(J=(Y=s==null?void 0:s.value)==null?void 0:Y.data)==null?void 0:J.bank_account)==null?void 0:X.account_number)??"",code:((ae=(ee=s.value)==null?void 0:ee.data.bank_account)==null?void 0:ae.code)??"",country:((se=(oe=(te=s==null?void 0:s.value)==null?void 0:te.data)==null?void 0:oe.bank_account)==null?void 0:se.country)??""}}}),F=$e("AUDEINCE-PROFILE",()=>{var t,e,d,v,E,V,D,B;return{user:{user_name:((e=(t=s.value)==null?void 0:t.data)==null?void 0:e.user_name)??"",dob:((v=(d=s.value)==null?void 0:d.data)==null?void 0:v.dob)??"",gender:((V=(E=s.value)==null?void 0:E.data)==null?void 0:V.gender)??"",country:((B=(D=s.value)==null?void 0:D.data)==null?void 0:B.country)??""}}});Ve(()=>{var e,d,v,E,V;const t=(e=s.value)==null?void 0:e.data;if(t){if(w.value&&_.value){const D={...w.value,bio:t.bio,country:t.country,dob:t.dob,gender:t.gender,profession:t.profession,stage_name:t.stage_name,user_name:t.user_name,profile_picture:t.profile_picture};m(_.value,D)}ne.value=(t==null?void 0:t.profile_picture)??"",n.value.user.bio=(t==null?void 0:t.bio)??"",n.value.user.country=t.country??"",F.value.user.country=t.country??"",n.value.user.dob=t.dob??"",F.value.user.dob=t.dob??"",n.value.user.gender=t.gender??"",F.value.user.gender=t.gender??"",n.value.user.name=t.stage_name??"",n.value.bank_account.account_name=((d=t.bank_account)==null?void 0:d.account_name)??"",n.value.bank_account.account_number=((v=t.bank_account)==null?void 0:v.account_number)??"",n.value.bank_account.bank_name=((E=t.bank_account)==null?void 0:E.bank_name)??"",n.value.bank_account.country=((V=t.bank_account)==null?void 0:V.country)??"Nigeria"}});const le=N(!1),Pe=async t=>{var e,d;try{n.value.bank_account.account_name="",le.value=!0;const v=await p.verifyBankAccount(t);le.value=!1;const E=(e=v==null?void 0:v.data)==null?void 0:e.account_name;E?n.value.bank_account.account_name=E:S({title:v.message??"Invalid account",variant:"warning"})}catch(v){le.value=!1,S({title:((d=v.data)==null?void 0:d.message)??"Invalid account",variant:"warning"}),console.error("FAILED TO VERIFY ACCOUNT",t),n.value.bank_account.account_name=""}};Ve(()=>{var e,d;const t={bank_name:((e=y.value)==null?void 0:e.name)??"",account_number:n.value.bank_account.account_number,code:((d=y.value)==null?void 0:d.code)??"",country:"Nigeria"};t.bank_name&&t.code&&Pe(t)});const re=N(!1),Le=()=>{var e;n.value.bank_account.code=((e=y.value)==null?void 0:e.code)??"";const t=[{field:"bank_name",message:"Select your bank name to continue"},{field:"account_number",message:"Enter your account_number to continue"},{field:"account_name",message:"Enter your account name to continue"}];for(const d of t)if(!n.value.bank_account[d.field])return S({title:d.message,variant:"warning"}),!1;return!0},Oe=async()=>{var t;try{if(!r.value&&!await Je.isValid(F.value.user.user_name)){S({title:"Username not valid",variant:"warning"});return}if(!(r.value?Le():!0))return;re.value=!0;const d=await g.updateProfile(r.value?n.value:F.value);re.value=!1,d.data&&(S({title:"Updated",description:d.message}),u())}catch(e){re.value=!1,S({title:"Failed",description:((t=e.data)==null?void 0:t.message)??"Failed to update profile",variant:"warning"})}};return We({title:"My Profile"}),(t,e)=>{const d=Re,v=ze,E=Be,V=Te,D=Me,B=z,ie=Ke;return i(),A("div",ka,[o("div",ha,[l(d,{to:a(r)?"/dashboard":"/audience"},null,8,["to"]),e[13]||(e[13]=o("div",{class:"text-2xl font-medium font-display"},"My Profile",-1))]),l(ie,{loading:a(k)==="pending",error:a($)},{default:x(()=>{var j,G,H,Q,W,Z,K,Y,J,X,ee,ae,te,oe,se,ye,xe,we,ke,he;return[o("div",{class:me(("cn"in t?t.cn:a(fe))("grid gap-6 mt-20",a(r)?"md:grid-cols-[1fr_348px]":"md:grid-cols-[1fr_250px] lg:grid-cols-[1fr_348px]"))},[o("div",{class:me(("cn"in t?t.cn:a(fe))("space-y-4"))},[o("div",Va,[e[14]||(e[14]=o("div",{class:"font-semibold"},"Details",-1)),o("div",Ua,[o("div",$a,[l(v,{image:a(ne),initials:a(ce),class:"!rounded-xl !size-[64px]"},null,8,["image","initials"]),o("div",Ea,[o("div",Sa,P((G=(j=a(s))==null?void 0:j.data)==null?void 0:G.email),1),o("div",Ca,P(((Q=(H=a(s))==null?void 0:H.data)==null?void 0:Q.stage_name)??"Add a username"),1)])]),o("div",Fa,[l(Ee,{onUploaded:e[0]||(e[0]=c=>ne.value=c)})]),a(r)?(i(),U(E,{key:0,label:"Bio",placeholder:"Tell your audience about yourself",class:"min-h-[80px]",modelValue:a(n).user.bio,"onUpdate:modelValue":e[1]||(e[1]=c=>a(n).user.bio=c)},null,8,["modelValue"])):(i(),U(V,{key:1,label:"Username",placeholder:"Enter your username",modelValue:a(F).user.user_name,"onUpdate:modelValue":e[2]||(e[2]=c=>a(F).user.user_name=c)},null,8,["modelValue"]))]),o("div",Da,[l(Ee,{onUploaded:e[3]||(e[3]=c=>ne.value=c)})])]),a(r)?I("",!0):(i(),A("div",Aa,[o("div",Na,[l(T,{name:"wallet"})]),o("div",Pa,[e[15]||(e[15]=o("div",{class:"font-medium"},"Spin credits",-1)),e[16]||(e[16]=o("div",{class:"text-muted-foreground max-w-[350px]"}," Your refunds from failed request are kept here so that you can use it to request again ",-1)),o("div",La," ₦"+P(("formatMoney"in t?t.formatMoney:a(Ue))(565.5)),1)]),o("div",Oa," ₦"+P(("formatMoney"in t?t.formatMoney:a(Ue))(565.5)),1),l(T,{name:"right-caret"})])),a(r)?(i(),A("div",Ra,[e[21]||(e[21]=o("div",{class:"font-semibold"},"Stats",-1)),o("div",za,[o("div",Ba,[l(T,{name:"account_circle"}),o("div",Ia,[o("span",Ta,P(((K=(Z=(W=a(s))==null?void 0:W.data)==null?void 0:Z.stats)==null?void 0:K.followers)??0),1),e[17]||(e[17]=o("span",{class:"text-muted-foreground"},"FOLLOWERS",-1))])]),o("div",Ma,[l(T,{name:"celebration"}),o("div",qa,[o("span",ja,P(((X=(J=(Y=a(s))==null?void 0:Y.data)==null?void 0:J.stats)==null?void 0:X.events)??0),1),e[18]||(e[18]=o("span",{class:"text-muted-foreground"},"EVENTS",-1))])]),o("div",Ga,[l(T,{name:"genres"}),o("div",Ha,[o("span",Qa,P(((te=(ae=(ee=a(s))==null?void 0:ee.data)==null?void 0:ae.stats)==null?void 0:te.requests)??0),1),e[19]||(e[19]=o("span",{class:"text-muted-foreground"},"REQUESTS",-1))])]),o("div",Wa,[l(T,{name:"genres"}),o("div",Za,[o("span",Ka,P(((ye=(se=(oe=a(s))==null?void 0:oe.data)==null?void 0:se.stats)==null?void 0:ye.fulfilled)??0),1),e[20]||(e[20]=o("span",{class:"text-muted-foreground"},"FUFILLED",-1))])])])])):I("",!0),o("div",Ya,[e[22]||(e[22]=o("div",{class:"font-semibold"},"Bio Data",-1)),o("div",Ja,[o("div",Xa,[a(r)?(i(),U(V,{key:0,type:"date",label:"Date of birth",modelValue:a(n).user.dob,"onUpdate:modelValue":e[4]||(e[4]=c=>a(n).user.dob=c)},null,8,["modelValue"])):(i(),U(V,{key:1,type:"date",label:"Date of birth",modelValue:a(F).user.dob,"onUpdate:modelValue":e[5]||(e[5]=c=>a(F).user.dob=c)},null,8,["modelValue"])),a(r)?(i(),U(D,{key:2,options:["male","female"],placeholder:"Select your gender",label:"Gender",modelValue:a(n).user.gender,"onUpdate:modelValue":e[6]||(e[6]=c=>a(n).user.gender=c)},null,8,["modelValue"])):(i(),U(D,{key:3,options:["male","female"],placeholder:"Select your gender",label:"Gender",modelValue:a(F).user.gender,"onUpdate:modelValue":e[7]||(e[7]=c=>a(F).user.gender=c)},null,8,["modelValue"]))]),a(r)?(i(),U(D,{key:0,options:["Nigeria"],placeholder:"Select your country of residence",label:"Country",modelValue:a(n).user.country,"onUpdate:modelValue":e[8]||(e[8]=c=>a(n).user.country=c)},null,8,["modelValue"])):(i(),U(D,{key:1,options:["Nigeria"],placeholder:"Select your country of residence",label:"Country",modelValue:a(F).user.country,"onUpdate:modelValue":e[9]||(e[9]=c=>a(F).user.country=c)},null,8,["modelValue"]))])]),o("div",et,[e[23]||(e[23]=o("div",{class:"font-semibold"},"Password",-1)),l(V,{placeholder:"Your password",label:"Password",type:"password"}),l(ra)]),a(r)?(i(),A("div",at,[e[25]||(e[25]=o("div",{class:"space-y-2"},[o("div",{class:"font-semibold"},"Bank Account"),o("div",{class:"text-muted-foreground"}," This is where we will transfer your withdrawals to, make sure its a valid account ")],-1)),o("div",tt,[l(D,{placeholder:"Select your bank",label:"Bank",options:a(b),modelValue:a(n).bank_account.bank_name,"onUpdate:modelValue":e[10]||(e[10]=c=>a(n).bank_account.bank_name=c),loading:a(L)==="pending"},null,8,["options","modelValue","loading"]),l(V,{placeholder:"Enter your bank account",label:"Account Number",modelValue:a(n).bank_account.account_number,"onUpdate:modelValue":e[11]||(e[11]=c=>a(n).bank_account.account_number=c)},null,8,["modelValue"]),l(V,{label:"Account Name",disabled:"",modelValue:a(n).bank_account.account_name,"onUpdate:modelValue":e[12]||(e[12]=c=>a(n).bank_account.account_name=c)},{default:x(()=>[a(le)?(i(),A("div",ot,[o("div",st,[l(a(_e),{class:"size-4 animate-spin"}),e[24]||(e[24]=o("div",null,"Verifying..",-1))])])):I("",!0)]),_:1},8,["modelValue"])])])):I("",!0),o("div",nt,[l(B,{size:"lg",onClick:Oe,loading:a(re)},{default:x(()=>e[26]||(e[26]=[M(" Save Changes ")])),_:1},8,["loading"])])],2),a(r)?(i(),A("div",lt,[a(k)==="pending"?(i(),A("div",rt,[l(a(_e),{class:"size-5 animate-spin"})])):(we=(xe=a(s))==null?void 0:xe.data)!=null&&we.id?(i(),U(wa,{key:1,name:a(Ae),link:a(Ne),id:(he=(ke=a(s))==null?void 0:ke.data)==null?void 0:he.id},null,8,["name","link","id"])):I("",!0)])):I("",!0)],2)]}),_:1},8,["loading","error"])])}}});export{$t as default};
