import{_ as N}from"./BcKNt5iN.js";import{p as g,u as S,q as C,r as E,o as c,z as x,w as r,b as s,y as o,A as k,a as n,t as A,_ as L,s as y,B,L as O,c as P,d as h,C as R}from"./_S93IMfv.js";import{_ as $}from"./CKG4hOPY.js";import{_ as m,F}from"./DAZdCxtH.js";import{_ as H}from"./BhZRTfHc.js";import{H as G}from"./h_O2H-HD.js";import"./BqjAheMm.js";const I=["DJ","MC","Artist","Hype Man","Radio Host","Business","Other"],V=g({__name:"host-signup-form",setup(v){const{$repo:{auth:u}}=S(),{saveAuthUser:t}=C(),a=E(!1),i=async l=>{var p,_,f;a.value=!0;const d={...l,password_confirmation:l.password};try{a.value=!0;const e=await u.registerHost(d),w=e==null?void 0:e.message;y({title:w,description:"Follow the link in your email to verify your email",variant:"normal",duration:8e4}),a.value=!1,t(e.data.token,e.data.user);const b=((p=e==null?void 0:e.data)==null?void 0:p.role)==="host"?"/profile":"/search";B().push(b)}catch(e){a.value=!1,y({title:"Failed",description:((_=e==null?void 0:e.data)==null?void 0:_.message)??"Sign up failed. Please try again",variant:"warning"}),console.error("ERROR LOGGING IN",(f=e==null?void 0:e.data)==null?void 0:f.message)}};return(l,d)=>(c(),x(o(F),{"validation-schema":o(G),onSubmit:i,class:"space-y-7"},{default:r(()=>[s(m,{name:"email",placeholder:"Enter your email",label:"Email",type:"email"}),s(m,{name:"stage_name",placeholder:"Enter your stage name",label:"Stage name"}),s(H,{options:[...o(I)],name:"profession",placeholder:"Choose your profession",label:"Profession"},null,8,["options"]),s(m,{name:"password",placeholder:"Enter your password",type:"password",label:"Password"}),s(L,{class:"w-full",type:"submit",size:"lg",disabled:o(a)},{default:r(()=>[o(a)?(c(),x(o(O),{key:0,class:"animate-spin mr-2"})):k("",!0),n("span",null,A(o(a)?"Please wait...":"Submit"),1)]),_:1},8,["disabled"])]),_:1},8,["validation-schema"]))}}),T={class:"h-full"},z={class:"fixed top-12 left-0"},D={class:"pt-2"},M={class:"w-[400px] max-w-full mx-auto"},q={class:"text-center mt-2"},Z=g({__name:"host",setup(v){return(u,t)=>{const a=N,i=R;return c(),P("div",T,[s(i,{name:"auth"},{default:r(()=>[n("div",z,[s($,{to:"/signup"})]),n("div",D,[t[2]||(t[2]=n("div",{class:"text-primary text-center my-2 text-xl"}," Create your account ",-1)),t[3]||(t[3]=n("div",{class:"text-4xl lg:text-5xl font-semibold my-4 text-center max-w-[595px] mx-auto font-display"}," Create your free host account ",-1)),n("div",M,[s(V),n("div",q,[t[1]||(t[1]=h(" Already a user? ")),s(a,{to:"/login",class:"underline hover:no-underline ml-1"},{default:r(()=>t[0]||(t[0]=[h("LOGIN")])),_:1})])])])]),_:1})])}}});export{Z as default};
