import{_ as $}from"./CKG4hOPY.js";import{m as K,p as z,r as m,v as _,u as D,o as p,c,b as a,a as t,w as r,y as s,D as x,_ as b,d as u,E,G as k,A as g,s as N,H as F,I as G,P as O}from"./_S93IMfv.js";import{_ as A,F as j}from"./DAZdCxtH.js";import{_ as C}from"./BhZRTfHc.js";import{c as H,a as y}from"./BqjAheMm.js";import"./BcKNt5iN.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=K("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M=H({title:y().required("Event title required").min(5,"Title should be at least 5 characters long"),address:y().required("Event address required"),country:y().required("Event country required"),state:y().required("Event state required")}),P=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],U=()=>({all_countries:["Nigeria"],nigerian_states:P}),X={class:"container pt-4 pb-20"},Y={class:"max-w-full w-[640px] mx-auto mt-10"},J={class:"flex flex-col sm:flex-row gap-4 w-full"},W={key:0,class:"bg-white/5 rounded-2xl p-4 !mt-8 border animate-in slide-in-from-top-1"},Z={class:"my-4 space-y-4"},Q={key:0,class:"flex justify-between items-center"},ee={class:"relative"},te={key:1,class:"flex justify-between items-center"},se={class:"relative"},ae={key:0,class:"py-1 px-2 mt-8 border border-destructive bg-[#64200A] flex items-center rounded-md justify-between"},me=z({__name:"create-event",setup(ne){const{all_countries:q,nigerian_states:S}=U(),n=m(void 0),i=m(100),l=m(100),h=m(!0),T=_(()=>!n.value||Number(i.value)<=0||Number(l.value)<=0),v=m(!1),V=_(()=>{switch(n.value){case"both":return[{name:"song",price:Number(i.value)},{name:"hype",price:Number(l.value)}];case"hype":return[{name:"hype",price:Number(l.value)}];case"song":return[{name:"song",price:Number(i.value)}];default:return[]}}),{$repo:{event:B}}=D(),I=async w=>{var f;const e={...w,types:V.value};try{v.value=!0;const o=await B.createEvent(e);v.value=!1,N({title:o.message,variant:"normal"}),o.data.id&&F("/dashboard")}catch(o){v.value=!1,N({title:((f=o.data)==null?void 0:f.message)??"Failed to create event",variant:"warning"}),console.error("FAILED TO CREATE EVENT",o)}};return(w,e)=>{const f=$,o=G,R=O;return p(),c("div",X,[a(f,{to:"/dashboard"}),e[15]||(e[15]=t("div",{class:"text-3xl md:text-4xl text-center font-semibold font-display"}," Create event ",-1)),t("div",Y,[a(s(j),{class:"space-y-6","validation-schema":s(M),onSubmit:I},{default:r(()=>[a(A,{name:"title",placeholder:"Enter event title",label:"Event title"}),a(A,{name:"address",placeholder:"Enter event address",label:"Address"}),t("div",J,[a(C,{options:s(q),name:"country",placeholder:"Choose event country",label:"Country",class:"w-full"},null,8,["options"]),a(C,{options:s(S),name:"state",placeholder:"Choose event state",label:"State",class:"w-full"},null,8,["options"])]),t("div",null,[e[7]||(e[7]=t("div",{class:"mb-3 font-medium"}," What type of request are you taking ",-1)),a(R,{class:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-muted-foreground",name:"type",required:"",modelValue:s(n),"onUpdate:modelValue":e[0]||(e[0]=d=>x(n)?n.value=d:null)},{default:r(()=>[a(o,{"as-child":"",value:"song"},{default:r(()=>[a(b,{type:"button",variant:"outline",size:"lg",class:"ring-transparent bg-white/5 transition-colors ring-[1px] data-[state='checked']:ring-primary"},{default:r(()=>e[4]||(e[4]=[u(" Song ")])),_:1})]),_:1}),a(o,{"as-child":"",value:"hype"},{default:r(()=>[a(b,{type:"button",variant:"outline",size:"lg",class:"ring-transparent bg-white/5 transition-colors ring-[1px] data-[state='checked']:ring-primary"},{default:r(()=>e[5]||(e[5]=[u(" Hype ")])),_:1})]),_:1}),a(o,{"as-child":"",value:"both"},{default:r(()=>[a(b,{type:"button",variant:"outline",size:"lg",class:"col-span-2 sm:col-span-1 bg-white/5 ring-transparent transition-colors ring-[1px] data-[state='checked']:ring-primary"},{default:r(()=>e[6]||(e[6]=[u(" Song & Hype ")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),s(n)?(p(),c("div",W,[e[13]||(e[13]=t("div",{class:"text-sm text-muted-foreground"}," Set your starting prices ",-1)),t("div",Z,[s(n)=="both"||s(n)=="song"?(p(),c("div",Q,[e[9]||(e[9]=t("div",{class:"text-2xl font-semibold"},[u(" Song "),t("span",{class:"hidden sm:inline"},"request")],-1)),t("div",ee,[e[8]||(e[8]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("span",{class:"text-muted-foreground sm:text-sm font-medium"},"₦")],-1)),E(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>x(i)?i.value=d:null),type:"number",min:100,step:100,placeholder:"Enter price",class:"outline-none ring-[0.5px] max-w-[180px] rounded-full focus:ring-primary pr-4 pl-7 py-2 bg-white/5 border-none"},null,512),[[k,s(i)]])])])):g("",!0),s(n)=="both"||s(n)=="hype"?(p(),c("div",te,[e[11]||(e[11]=t("div",{class:"text-2xl font-semibold"},[u(" Hype "),t("span",{class:"hidden sm:inline"},"request")],-1)),t("div",se,[e[10]||(e[10]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[t("span",{class:"text-muted-foreground sm:text-sm font-medium"},"₦")],-1)),E(t("input",{"onUpdate:modelValue":e[2]||(e[2]=d=>x(l)?l.value=d:null),type:"number",min:100,step:100,placeholder:"Enter price",class:"outline-none ring-[0.5px] max-w-[180px] rounded-full focus:ring-primary pr-4 pl-7 py-2 bg-white/5 border-none"},null,512),[[k,s(l)]])])])):g("",!0)]),s(h)?(p(),c("div",ae,[e[12]||(e[12]=t("div",{class:"text-sm sm:text-base"}," You can always change the price at any time during the event ",-1)),a(s(L),{class:"size-4 cursor-pointer",onClick:e[3]||(e[3]=d=>h.value=!1)})])):g("",!0)])):g("",!0),a(b,{class:"max-w-full w-[450px] !flex !mt-8 mx-auto border",size:"lg",disabled:s(T),loading:s(v)},{default:r(()=>e[14]||(e[14]=[u(" Create event ")])),_:1},8,["disabled","loading"])]),_:1},8,["validation-schema"])])])}}});export{me as default};
